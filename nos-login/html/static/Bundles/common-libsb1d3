function checkIfCookiesAreEnabled(){var n=navigator.cookieEnabled,t;return n||(t="cookie_detection",document.cookie=t,n=document.cookie.indexOf(t)!=-1),n||$("#cookie-disclaimer-msg").show()}function bindRenderPersonalDataInputsClick(n){$(document).ready(function(){$(".box-list-group .box-list .box-list-item-wrapper").on("click",function(){var t=$(this).closest(".box-list-item-wrapper").find("input"),i=t.attr("value");$.ajax({url:n,data:{selectedOption:i},success:function(n){var t=$("#partial-container-personal-data");t.html(n);$("form").each(function(){$.data($(this)[0],"validator",!1)});$.validator.unobtrusive.parse("form")}})})})}function bindRenderSubmitButtonOptionsInputsClick(n){$(document).ready(function(){$(".box-list-group .box-list .box-list-item-wrapper").on("click",function(){var t=$(this).closest(".box-list-item-wrapper").find("input"),i=t.attr("value");$.ajax({url:n,data:{selectedOption:i},success:function(n){var t=$("#partial-container-submit-button-options");t.html(n)}})})})}function wireUpModalEvents(n){$(".modal button").click(function(){var t=$(this);t.parents(".modal").removeClass("in");t.hasClass("confirm-button")&&n&&n(t)})}function fixScrolling(n){fixScrolling(n,"auto")}function fixScrolling(n,t){t=t===undefined?"auto":t;$("body").css("overflow",n?"hidden":t)}function enableSubmitBtn(){$("#submitButton").removeClass("disabled").prop("disabled",null)}function controlRequiredElementsVisibility(n,t,i){var r=$(n),u=$(t);r.find(".toggle-trigger").prop("checked",null).prop("checked",i?"checked":null);r.find(".toggle-header-privacy-label .mandatory-label-info").toggleClass("text-error",i);u.find("label").toggleClass("text-error",i);u.find("span").toggleClass("text-error",i).toggleClass("hidden",!i);r.find(".mandatory-error-text").toggleClass("hidden",!i)}function checkifIsToUpdateSubmitButton(n){var t=$(n),i;t!==undefined&&t.is(":checked")&&(i=toBeVisitedTabsArr.indexOf(t.prop("id")),i!==-1&&(toBeVisitedTabsArr.splice(i,1),toBeVisitedTabsArr.length===0&&enableSubmitBtn()))}function bindRenderLinkAccountInputsClick(n,t,i){$(document).ready(function(){$(".box-list-group .box-list .box-list-item").on("click",function(){var t=$(this).closest(".box-list-item").find("input"),i=t.attr("value");$.ajax({url:n,data:{selectedOption:i},success:function(n){var t=$("#partial-container");t.empty();t.html(n);window.scrollTo(0,t.offset().top);$("form").each(function(){$.data($(this)[0],"validator",!1)});$.validator.unobtrusive.parse("form")}})});if(i==="true"){var r=$("input[value='"+t+"']");r.click()}})}function sendGoogleAnalyticsEvent(n,t,i,r){var u={hitType:"event",eventCategory:n,eventAction:t,eventLabel:i};r&&(u.eventValue=r);ga("send",u)}function startAnalyticsTracker(n){window.ga=function(){window.ga.q=window.ga.q||[];window.ga.q.push(arguments)};window.addEventListener("CookiebotOnConsentReady",function(){Cookiebot.consent.statistics&&function(n,t,i,r,u,f,e){n.GoogleAnalyticsObject=u;n[u]=n[u]||function(){(n[u].q=n[u].q||[]).push(arguments)};n[u].l=1*new Date;f=t.createElement(i);e=t.getElementsByTagName(i)[0];f.async=1;f.src=r;e.parentNode.insertBefore(f,e)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga")},!1);ga("create",n);ga("send","pageview");$(".google-analytics").click(function(){var n=$(this),u=n.parents("form"),t,r,f;if(n.is("[type='submit']")&&!u.valid()){for(t=u.validate().errorList,r="",i=0;i<t.length;i++)f=i==t.length-1?t[i].element.name+" - "+t[i].message:t[i].element.name+" - "+t[i].message+" | ",r+=f;sendGoogleAnalyticsEvent(n.data("category"),n.data("action"),n.data("label")+" - Erro["+r+"]",n.data("value"));sendGoogleAnalyticsEvent(n.data("category"),n.data("action"),n.data("label")+" - Insucesso",n.data("value"))}else sendGoogleAnalyticsEvent(n.data("category"),n.data("action"),n.data("label"),n.data("value"))});$(function(){var n=$(".field-validation-error");for(i=0;i<n.length;i++){var t=n[i],r=t.getAttribute("data-valmsg-for"),u=t.textContent;if(u!=""){var f=$("[name="+r+"]"),e=f.data("category"),o=f.data("action"),s=r+" - Erro["+u+"]";sendGoogleAnalyticsEvent(e,o,s,null)}}})}var App={init:function(){$(function(){App.onReady()});$(window).on("load",function(){App.onLoad()})},onReady:function(n){App.stickyHeader();App.initUserWidget();n||App.initCommon()},onLoad:function(){},initUserWidget:function(){var r="user-popup-wrapper",n="."+r,t="top-level-hide",u=!1,i=!1;$(".user-area, .user-header").on("click",function(r){$(r.target).parents().closest(".opened").length===0&&($(n).toggleClass(t),u=!$(n).hasClass(t),i=!0)});$("body").on("click",function(f){var e=$(f.target),s=!e.hasClass(r)&&e.parents(n).length===0,o=$(n);i||u&&s&&!o.hasClass(t)&&o.addClass(t);i=!1})},initCommon:function(){$(".icn-edit, .icn-edit_small, .icn-calendar, .icn-delete").click(function(){$(this).prev().focus()});$(".box-list-item, .box-list-item-wrapper").click(function(n){var r=$(n.target),t,i;r.hasClass("account-pin")?n.stopPropagation():(t=$(this).find(".state-check"),$(this).hasClass("multiple-select")?(i=t.prop("checked"),t.prop("checked",!i),t.change()):(t.prop("checked",!0),t.change()))});$(".custom-dropdown").selectric({disableOnMobile:!1,nativeOnMobile:!1});$(".form-date").datepicker({maxViewMode:2,language:"pt",orientation:"bottom auto",todayHighlight:!0,format:"dd-mm-yyyy",todayBtn:"linked",autoclose:!0,endDate:moment().toDate()});$(".form-date-icn").click(function(){$(this).siblings(".form-date").trigger("focus")})},stickyHeader:function(){var n=$("#site-header"),t=$("#contextual-nav"),o=$("#contextual-nav-small"),i=$(".site-main-top.header-box"),f,e,r,u;$("#header-user").length&&(i.length?(r=new Waypoint({element:document.getElementById("header-user"),handler:function(t){t=="up"&&n.removeClass("is_sticky")},offset:20}),u=new Waypoint({element:document.getElementById("header-user"),handler:function(t){t=="down"&&n.addClass("is_sticky")},offset:20})):n.addClass("is_sticky"));t.length&&(f=$(document).width()>960?"90":"54",e=new Waypoint.Sticky({element:t[0],offset:f}));$("#simple-header").length&&(i.length?(r=new Waypoint({element:document.getElementById("simple-header"),handler:function(t){t=="up"&&n.removeClass("is_sticky")},offset:10}),u=new Waypoint({element:document.getElementById("simple-header"),handler:function(t){t=="down"&&n.addClass("is_sticky")},offset:10})):n.addClass("is_sticky"))}},toBeVisitedTabsArr;App.init();!function(){"use strict";function n(r){if(!r)throw new Error("No options passed to Waypoint constructor");if(!r.element)throw new Error("No element option passed to Waypoint constructor");if(!r.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+i;this.options=n.Adapter.extend({},n.defaults,r);this.element=this.options.element;this.adapter=new n.Adapter(this.element);this.callback=r.handler;this.axis=this.options.horizontal?"horizontal":"vertical";this.enabled=this.options.enabled;this.triggerPoint=null;this.group=n.Group.findOrCreate({name:this.options.group,axis:this.axis});this.context=n.Context.findOrCreateByElement(this.options.context);n.offsetAliases[this.options.offset]&&(this.options.offset=n.offsetAliases[this.options.offset]);this.group.add(this);this.context.add(this);t[this.key]=this;i+=1}var i=0,t={};n.prototype.queueTrigger=function(n){this.group.queueTrigger(this,n)};n.prototype.trigger=function(n){this.enabled&&this.callback&&this.callback.apply(this,n)};n.prototype.destroy=function(){this.context.remove(this);this.group.remove(this);delete t[this.key]};n.prototype.disable=function(){return this.enabled=!1,this};n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this};n.prototype.next=function(){return this.group.next(this)};n.prototype.previous=function(){return this.group.previous(this)};n.invokeAll=function(n){var r=[],u,i,f;for(u in t)r.push(t[u]);for(i=0,f=r.length;f>i;i++)r[i][n]()};n.destroyAll=function(){n.invokeAll("destroy")};n.disableAll=function(){n.invokeAll("disable")};n.enableAll=function(){n.Context.refreshAll();for(var i in t)t[i].enabled=!0;return this};n.refreshAll=function(){n.Context.refreshAll()};n.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight};n.viewportWidth=function(){return document.documentElement.clientWidth};n.adapters=[];n.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0};n.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}};window.Waypoint=n}(),function(){"use strict";function f(n){window.setTimeout(n,1e3/60)}function n(u){this.element=u;this.Adapter=t.Adapter;this.adapter=new this.Adapter(u);this.key="waypoint-context-"+r;this.didScroll=!1;this.didResize=!1;this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()};this.waypoints={vertical:{},horizontal:{}};u.waypointContextKey=this.key;i[u.waypointContextKey]=this;r+=1;t.windowContext||(t.windowContext=!0,t.windowContext=new n(window));this.createThrottledScrollHandler();this.createThrottledResizeHandler()}var r=0,i={},t=window.Waypoint,u=window.onload;n.prototype.add=function(n){var t=n.options.horizontal?"horizontal":"vertical";this.waypoints[t][n.key]=n;this.refresh()};n.prototype.checkEmpty=function(){var n=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical),r=this.element==this.element.window;n&&t&&!r&&(this.adapter.off(".waypoints"),delete i[this.key])};n.prototype.createThrottledResizeHandler=function(){function i(){n.handleResize();n.didResize=!1}var n=this;this.adapter.on("resize.waypoints",function(){n.didResize||(n.didResize=!0,t.requestAnimationFrame(i))})};n.prototype.createThrottledScrollHandler=function(){function i(){n.handleScroll();n.didScroll=!1}var n=this;this.adapter.on("scroll.waypoints",function(){(!n.didScroll||t.isTouch)&&(n.didScroll=!0,t.requestAnimationFrame(i))})};n.prototype.handleResize=function(){t.Context.refreshAll()};n.prototype.handleScroll=function(){var u={},i={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},r,f,n,s;for(r in i){var t=i[r],h=t.newScroll>t.oldScroll,c=h?t.forward:t.backward;for(f in this.waypoints[r])if(n=this.waypoints[r][f],null!==n.triggerPoint){var e=t.oldScroll<n.triggerPoint,o=t.newScroll>=n.triggerPoint,l=e&&o,a=!e&&!o;(l||a)&&(n.queueTrigger(c),u[n.group.id]=n.group)}}for(s in u)u[s].flushTriggers();this.oldScroll={x:i.horizontal.newScroll,y:i.vertical.newScroll}};n.prototype.innerHeight=function(){return this.element==this.element.window?t.viewportHeight():this.adapter.innerHeight()};n.prototype.remove=function(n){delete this.waypoints[n.axis][n.key];this.checkEmpty()};n.prototype.innerWidth=function(){return this.element==this.element.window?t.viewportWidth():this.adapter.innerWidth()};n.prototype.destroy=function(){var t=[],i,r,n,u;for(i in this.waypoints)for(r in this.waypoints[i])t.push(this.waypoints[i][r]);for(n=0,u=t.length;u>n;n++)t[n].destroy()};n.prototype.refresh=function(){var o,u=this.element==this.element.window,l=u?void 0:this.adapter.offset(),f={},e,i,a;this.handleScroll();o={horizontal:{contextOffset:u?0:l.left,contextScroll:u?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:u?0:l.top,contextScroll:u?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(e in o){i=o[e];for(a in this.waypoints[e]){var v,s,h,y,p,n=this.waypoints[e][a],r=n.options.offset,w=n.triggerPoint,b=0,c=null==w;n.element!==n.element.window&&(b=n.adapter.offset()[i.offsetProp]);"function"==typeof r?r=r.apply(n):"string"==typeof r&&(r=parseFloat(r),n.options.offset.indexOf("%")>-1&&(r=Math.ceil(i.contextDimension*r/100)));v=i.contextScroll-i.contextOffset;n.triggerPoint=Math.floor(b+v-r);s=w<i.oldScroll;h=n.triggerPoint>=i.oldScroll;y=s&&h;p=!s&&!h;!c&&y?(n.queueTrigger(i.backward),f[n.group.id]=n.group):!c&&p?(n.queueTrigger(i.forward),f[n.group.id]=n.group):c&&i.oldScroll>=n.triggerPoint&&(n.queueTrigger(i.forward),f[n.group.id]=n.group)}}return t.requestAnimationFrame(function(){for(var n in f)f[n].flushTriggers()}),this};n.findOrCreateByElement=function(t){return n.findByElement(t)||new n(t)};n.refreshAll=function(){for(var n in i)i[n].refresh()};n.findByElement=function(n){return i[n.waypointContextKey]};window.onload=function(){u&&u();n.refreshAll()};t.requestAnimationFrame=function(n){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||f;t.call(window,n)};t.Context=n}(),function(){"use strict";function i(n,t){return n.triggerPoint-t.triggerPoint}function u(n,t){return t.triggerPoint-n.triggerPoint}function n(n){this.name=n.name;this.axis=n.axis;this.id=this.name+"-"+this.axis;this.waypoints=[];this.clearTriggerQueues();r[this.axis][this.name]=this}var r={vertical:{},horizontal:{}},t=window.Waypoint;n.prototype.add=function(n){this.waypoints.push(n)};n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}};n.prototype.flushTriggers=function(){var n,t,e,r,o,f;for(n in this.triggerQueues)for(t=this.triggerQueues[n],e="up"===n||"left"===n,t.sort(e?u:i),r=0,o=t.length;o>r;r+=1)f=t[r],(f.options.continuous||r===t.length-1)&&f.trigger([n]);this.clearTriggerQueues()};n.prototype.next=function(n){this.waypoints.sort(i);var r=t.Adapter.inArray(n,this.waypoints),u=r===this.waypoints.length-1;return u?null:this.waypoints[r+1]};n.prototype.previous=function(n){this.waypoints.sort(i);var r=t.Adapter.inArray(n,this.waypoints);return r?this.waypoints[r-1]:null};n.prototype.queueTrigger=function(n,t){this.triggerQueues[t].push(n)};n.prototype.remove=function(n){var i=t.Adapter.inArray(n,this.waypoints);i>-1&&this.waypoints.splice(i,1)};n.prototype.first=function(){return this.waypoints[0]};n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]};n.findOrCreate=function(t){return r[t.axis][t.name]||new n(t)};t.Group=n}(),function(){"use strict";function n(n){this.$element=t(n)}var t=window.jQuery,i=window.Waypoint;t.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,i){n.prototype[i]=function(){var n=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,n)}});t.each(["extend","inArray","isEmptyObject"],function(i,r){n[r]=t[r]});i.adapters.push({name:"jquery",Adapter:n});i.Adapter=n}(),function(){"use strict";function n(n){return function(){var r=[],i=arguments[0];return n.isFunction(arguments[0])&&(i=n.extend({},arguments[1]),i.handler=arguments[0]),this.each(function(){var u=n.extend({},i,{element:this});"string"==typeof u.context&&(u.context=n(this).closest(u.context)[0]);r.push(new t(u))}),r}}var t=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=n(window.jQuery));window.Zepto&&(window.Zepto.fn.waypoint=n(window.Zepto))}();!function(){"use strict";function n(r){this.options=t.extend({},i.defaults,n.defaults,r);this.element=this.options.element;this.$element=t(this.element);this.createWrapper();this.createWaypoint()}var t=window.jQuery,i=window.Waypoint;n.prototype.createWaypoint=function(){var n=this.options.handler;this.waypoint=new i(t.extend({},this.options,{element:this.wrapper,handler:t.proxy(function(t){var i=this.options.direction.indexOf(t)>-1,r=i?this.$element.outerHeight(!0):"";this.$wrapper.height(r);this.$element.toggleClass(this.options.stuckClass,i);n&&n.call(this,t)},this)}))};n.prototype.createWrapper=function(){this.options.wrapper&&this.$element.wrap(this.options.wrapper);this.$wrapper=this.$element.parent();this.wrapper=this.$wrapper[0]};n.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass),this.options.wrapper&&this.$element.unwrap())};n.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"};i.Sticky=n}();!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(i),i}:n(jQuery)}(function(n){"use strict";var t=n(document),i=n(window),f=["a","e","i","o","u","n","c","y"],r=[/[\xE0-\xE5]/g,/[\xE8-\xEB]/g,/[\xEC-\xEF]/g,/[\xF2-\xF6]/g,/[\xF9-\xFC]/g,/[\xF1]/g,/[\xE7]/g,/[\xFD-\xFF]/g],u=function(t,i){var r=this;r.element=t;r.$element=n(t);r.state={multiple:!!r.$element.attr("multiple"),enabled:!1,opened:!1,currValue:-1,selectedIdx:-1,highlightedIdx:-1};r.eventTriggers={open:r.open,close:r.close,destroy:r.destroy,refresh:r.refresh,init:r.init};r.init(i)};u.prototype={utils:{isMobile:function(){return/android|ip(hone|od|ad)/i.test(navigator.userAgent)},escapeRegExp:function(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},replaceDiacritics:function(n){for(var t=r.length;t--;)n=n.toLowerCase().replace(r[t],f[t]);return n},format:function(n){var t=arguments;return(""+n).replace(/\{(?:(\d+)|(\w+))\}/g,function(n,i,r){return r&&t[1]?t[1][r]:t[i]})},nextEnabledItem:function(n,t){for(;n[t=(t+1)%n.length].disabled;);return t},previousEnabledItem:function(n,t){for(;n[t=(t>0?t:n.length)-1].disabled;);return t},toDash:function(n){return n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(t,i){var r=i.element,u=i.options["on"+t],f=[r].concat([].slice.call(arguments).slice(1));n.isFunction(u)&&u.apply(r,f);n(r).trigger("selectric-"+this.toDash(t),f)},arrayToClassname:function(t){var i=n.grep(t,function(n){return!!n});return n.trim(i.join(" "))}},init:function(t){var i=this;if(i.options=n.extend(!0,{},n.fn.selectric.defaults,i.options,t),i.utils.triggerCallback("BeforeInit",i),i.destroy(!0),i.options.disableOnMobile&&i.utils.isMobile())return void(i.disableOnMobile=!0);i.classes=i.getClassNames();var r=n("<input/>",{"class":i.classes.input,readonly:i.utils.isMobile()}),u=n("<div/>",{"class":i.classes.items,tabindex:-1}),s=n("<div/>",{"class":i.classes.scroll}),f=n("<div/>",{"class":i.classes.prefix,html:i.options.arrowButtonMarkup}),e=n("<span/>",{"class":"label"}),h=i.$element.wrap("<div/>").parent().append(f.prepend(e),u,r),o=n("<div/>",{"class":i.classes.hideselect});i.elements={input:r,items:u,itemsScroll:s,wrapper:f,label:e,outerWrapper:h};i.options.nativeOnMobile&&i.utils.isMobile()&&(i.elements.input=void 0,o.addClass(i.classes.prefix+"-is-native"),i.$element.on("change",function(){i.refresh()}));i.$element.on(i.eventTriggers).wrap(o);i.originalTabindex=i.$element.prop("tabindex");i.$element.prop("tabindex",-1);i.populate();i.activate();i.utils.triggerCallback("Init",i)},activate:function(){var n=this,i=n.elements.items.closest(":visible").children(":hidden").addClass(n.classes.tempshow),t=n.$element.width();i.removeClass(n.classes.tempshow);n.utils.triggerCallback("BeforeActivate",n);n.elements.outerWrapper.prop("class",n.utils.arrayToClassname([n.classes.wrapper,n.$element.prop("class").replace(/\S+/g,n.classes.prefix+"-$&"),n.options.responsive?n.classes.responsive:""]));n.options.inheritOriginalWidth&&t>0&&n.elements.outerWrapper.width(t);n.unbindEvents();n.$element.prop("disabled")?(n.elements.outerWrapper.addClass(n.classes.disabled),n.elements.input&&n.elements.input.prop("disabled",!0)):(n.state.enabled=!0,n.elements.outerWrapper.removeClass(n.classes.disabled),n.$li=n.elements.items.removeAttr("style").find("li"),n.bindEvents());n.utils.triggerCallback("Activate",n)},getClassNames:function(){var r=this,t=r.options.customClass,i={};return n.each("Input Items Open Disabled TempShow HideSelect Wrapper Focus Hover Responsive Above Below Scroll Group GroupLabel".split(" "),function(n,u){var f=t.prefix+u;i[u.toLowerCase()]=t.camelCase?f:r.utils.toDash(f)}),i.prefix=t.prefix,i},setLabel:function(){var t=this,r=t.options.labelBuilder,u,i,f;t.state.multiple?(u=n.isArray(t.state.currValue)?t.state.currValue:[t.state.currValue],u=0===u.length?[0]:u,i=n.map(u,function(i){return n.grep(t.lookupItems,function(n){return n.index===i})[0]}),i=n.grep(i,function(t){return i.length>1||0===i.length?""!==n.trim(t.value):t}),i=n.map(i,function(i){return n.isFunction(r)?r(i):t.utils.format(r,i)}),t.options.multiple.maxLabelEntries&&(i.length>=t.options.multiple.maxLabelEntries+1?(i=i.slice(0,t.options.multiple.maxLabelEntries),i.push(n.isFunction(r)?r({text:"..."}):t.utils.format(r,{text:"..."}))):i.slice(i.length-1)),t.elements.label.html(i.join(t.options.multiple.separator))):(f=t.lookupItems[t.state.currValue],t.elements.label.html(n.isFunction(r)?r(f):t.utils.format(r,f)))},populate:function(){var t=this,f=t.$element.children(),e=t.$element.find("option"),u=e.filter(":selected"),r=e.index(u),i=0,o=t.state.multiple?[]:0;u.length>1&&t.state.multiple&&(r=[],u.each(function(){r.push(n(this).index())}));t.state.currValue=~r?r:o;t.state.selectedIdx=t.state.currValue;t.state.highlightedIdx=t.state.currValue;t.items=[];t.lookupItems=[];f.length&&(f.each(function(r){var u=n(this),f;u.is("optgroup")?(f={element:u,label:u.prop("label"),groupDisabled:u.prop("disabled"),items:[]},u.children().each(function(r){var u=n(this);f.items[r]=t.getItemData(i,u,f.groupDisabled||u.prop("disabled"));t.lookupItems[i]=f.items[r];i++}),t.items[r]=f):(t.items[r]=t.getItemData(i,u,u.prop("disabled")),t.lookupItems[i]=t.items[r],i++)}),t.setLabel(),t.elements.items.append(t.elements.itemsScroll.html(t.getItemsMarkup(t.items))))},getItemData:function(t,i,r){var u=this;return{index:t,element:i,value:i.val(),className:i.prop("class"),text:i.html(),slug:n.trim(u.utils.replaceDiacritics(i.html())),alt:i.attr("data-alt"),selected:i.prop("selected"),disabled:r}},getItemsMarkup:function(t){var i=this,r="<ul>";return n.isFunction(i.options.listBuilder)&&i.options.listBuilder&&(t=i.options.listBuilder(t)),n.each(t,function(t,u){void 0!==u.label?(r+=i.utils.format('<ul class="{1}"><li class="{2}">{3}<\/li>',i.utils.arrayToClassname([i.classes.group,u.groupDisabled?"disabled":"",u.element.prop("class")]),i.classes.grouplabel,u.element.prop("label")),n.each(u.items,function(n,t){r+=i.getItemMarkup(t.index,t)}),r+="<\/ul>"):r+=i.getItemMarkup(u.index,u)}),r+"<\/ul>"},getItemMarkup:function(t,i){var r=this,u=r.options.optionsItemBuilder,f={value:i.value,text:i.text,slug:i.slug,index:i.index};return r.utils.format('<li data-index="{1}" class="{2}">{3}<\/li>',t,r.utils.arrayToClassname([i.className,t===r.items.length-1?"last":"",i.disabled?"disabled":"",i.selected?"selected":""]),n.isFunction(u)?r.utils.format(u(i,this.$element,t),i):r.utils.format(u,f))},unbindEvents:function(){var n=this;n.elements.wrapper.add(n.$element).add(n.elements.outerWrapper).add(n.elements.input).off(".sl")},bindEvents:function(){var t=this;t.elements.outerWrapper.on("mouseenter.sl mouseleave.sl",function(i){n(this).toggleClass(t.classes.hover,"mouseenter"===i.type);t.options.openOnHover&&(clearTimeout(t.closeTimer),"mouseleave"===i.type?t.closeTimer=setTimeout(n.proxy(t.close,t),t.options.hoverIntentTimeout):t.open())});t.elements.wrapper.on("click.sl",function(n){t.state.opened?t.close():t.open(n)});t.options.nativeOnMobile&&t.utils.isMobile()||(t.$element.on("focus.sl",function(){t.elements.input.focus()}),t.elements.input.prop({tabindex:t.originalTabindex,disabled:!1}).on("keydown.sl",n.proxy(t.handleKeys,t)).on("focusin.sl",function(n){t.elements.outerWrapper.addClass(t.classes.focus);t.elements.input.one("blur",function(){t.elements.input.blur()});t.options.openOnFocus&&!t.state.opened&&t.open(n)}).on("focusout.sl",function(){t.elements.outerWrapper.removeClass(t.classes.focus)}).on("input propertychange",function(){var r=t.elements.input.val(),i=new RegExp("^"+t.utils.escapeRegExp(r),"i");clearTimeout(t.resetStr);t.resetStr=setTimeout(function(){t.elements.input.val("")},t.options.keySearchTimeout);r.length&&n.each(t.items,function(n,r){if(!r.disabled){if(i.test(r.text)||i.test(r.slug))return void t.highlight(n);if(r.alt)for(var f=r.alt.split("|"),u=0;u<f.length&&f[u];u++)if(i.test(f[u].trim()))return void t.highlight(n)}})}));t.$li.on({mousedown:function(n){n.preventDefault();n.stopPropagation()},click:function(){return t.select(n(this).data("index")),!1}})},handleKeys:function(t){var i=this,r=t.which,f=i.options.keys,e=n.inArray(r,f.previous)>-1,o=n.inArray(r,f.next)>-1,h=n.inArray(r,f.select)>-1,c=n.inArray(r,f.open)>-1,u=i.state.highlightedIdx,l=e&&0===u||o&&u+1===i.items.length,s=0;if(13!==r&&32!==r||t.preventDefault(),e||o){if(!i.options.allowWrap&&l)return;e&&(s=i.utils.previousEnabledItem(i.lookupItems,u));o&&(s=i.utils.nextEnabledItem(i.lookupItems,u));i.highlight(s)}if(h&&i.state.opened)return i.select(u),void(i.state.multiple&&i.options.multiple.keepMenuOpen||i.close());c&&!i.state.opened&&i.open()},refresh:function(){var n=this;n.populate();n.activate();n.utils.triggerCallback("Refresh",n)},setOptionsDimensions:function(){var n=this,u=n.elements.items.closest(":visible").children(":hidden").addClass(n.classes.tempshow),t=n.options.maxHeight,i=n.elements.items.outerWidth(),r=n.elements.wrapper.outerWidth()-(i-n.elements.items.width());!n.options.expandToItemText||r>i?n.finalWidth=r:(n.elements.items.css("overflow","scroll"),n.elements.outerWrapper.width(9e4),n.finalWidth=n.elements.items.width(),n.elements.items.css("overflow",""),n.elements.outerWrapper.width(""));n.elements.items.width(n.finalWidth).height()>t&&n.elements.items.height(t);u.removeClass(n.classes.tempshow)},isInViewport:function(){var n=this;if(!0===n.options.forceRenderAbove)n.elements.outerWrapper.addClass(n.classes.above);else if(!0===n.options.forceRenderBelow)n.elements.outerWrapper.addClass(n.classes.below);else{var t=i.scrollTop(),f=i.height(),r=n.elements.outerWrapper.offset().top,e=n.elements.outerWrapper.outerHeight(),o=r+e+n.itemsHeight<=t+f,s=r-n.itemsHeight>t,u=!o&&s,h=!u;n.elements.outerWrapper.toggleClass(n.classes.above,u);n.elements.outerWrapper.toggleClass(n.classes.below,h)}},detectItemVisibility:function(t){var i=this,e=i.$li.filter("[data-index]");i.state.multiple&&(t=n.isArray(t)&&0===t.length?0:t,t=n.isArray(t)?Math.min.apply(Math,t):t);var r=e.eq(t).outerHeight(),u=e[t].offsetTop,f=i.elements.itemsScroll.scrollTop(),o=u+2*r;i.elements.itemsScroll.scrollTop(o>f+i.itemsHeight?o-i.itemsHeight:u-r<f?u-r:f)},open:function(i){var r=this;if(r.options.nativeOnMobile&&r.utils.isMobile())return!1;r.utils.triggerCallback("BeforeOpen",r);i&&(i.preventDefault(),r.options.stopPropagation&&i.stopPropagation());r.state.enabled&&(r.setOptionsDimensions(),n("."+r.classes.hideselect,"."+r.classes.open).children().selectric("close"),r.state.opened=!0,r.itemsHeight=r.elements.items.outerHeight(),r.itemsInnerHeight=r.elements.items.height(),r.elements.outerWrapper.addClass(r.classes.open),r.elements.input.val(""),i&&"focusin"!==i.type&&r.elements.input.focus(),setTimeout(function(){t.on("click.sl",n.proxy(r.close,r)).on("scroll.sl",n.proxy(r.isInViewport,r))},1),r.isInViewport(),r.options.preventWindowScroll&&t.on("mousewheel.sl DOMMouseScroll.sl","."+r.classes.scroll,function(t){var i=t.originalEvent,f=n(this).scrollTop(),u=0;"detail"in i&&(u=-1*i.detail);"wheelDelta"in i&&(u=i.wheelDelta);"wheelDeltaY"in i&&(u=i.wheelDeltaY);"deltaY"in i&&(u=-1*i.deltaY);(f===this.scrollHeight-r.itemsInnerHeight&&u<0||0===f&&u>0)&&t.preventDefault()}),r.detectItemVisibility(r.state.selectedIdx),r.highlight(r.state.multiple?-1:r.state.selectedIdx),r.utils.triggerCallback("Open",r))},close:function(){var n=this;n.utils.triggerCallback("BeforeClose",n);t.off(".sl");n.elements.outerWrapper.removeClass(n.classes.open);n.state.opened=!1;n.utils.triggerCallback("Close",n)},change:function(){var t=this;t.utils.triggerCallback("BeforeChange",t);t.state.multiple?(n.each(t.lookupItems,function(n){t.lookupItems[n].selected=!1;t.$element.find("option").prop("selected",!1)}),n.each(t.state.selectedIdx,function(n,i){t.lookupItems[i].selected=!0;t.$element.find("option").eq(i).prop("selected",!0)}),t.state.currValue=t.state.selectedIdx,t.setLabel(),t.utils.triggerCallback("Change",t)):t.state.currValue!==t.state.selectedIdx&&(t.$element.prop("selectedIndex",t.state.currValue=t.state.selectedIdx).data("value",t.lookupItems[t.state.selectedIdx].text),t.setLabel(),t.utils.triggerCallback("Change",t))},highlight:function(n){var t=this,i=t.$li.filter("[data-index]").removeClass("highlighted");t.utils.triggerCallback("BeforeHighlight",t);void 0===n||-1===n||t.lookupItems[n].disabled||(i.eq(t.state.highlightedIdx=n).addClass("highlighted"),t.detectItemVisibility(n),t.utils.triggerCallback("Highlight",t))},select:function(t){var i=this,u=i.$li.filter("[data-index]"),r;(i.utils.triggerCallback("BeforeSelect",i,t),void 0===t||-1===t||i.lookupItems[t].disabled)||(i.state.multiple?(i.state.selectedIdx=n.isArray(i.state.selectedIdx)?i.state.selectedIdx:[i.state.selectedIdx],r=n.inArray(t,i.state.selectedIdx),-1!==r?i.state.selectedIdx.splice(r,1):i.state.selectedIdx.push(t),u.removeClass("selected").filter(function(t){return-1!==n.inArray(t,i.state.selectedIdx)}).addClass("selected")):u.removeClass("selected").eq(i.state.selectedIdx=t).addClass("selected"),i.state.multiple&&i.options.multiple.keepMenuOpen||i.close(),i.change(),i.utils.triggerCallback("Select",i,t))},destroy:function(n){var t=this;t.state&&t.state.enabled&&(t.elements.items.add(t.elements.wrapper).add(t.elements.input).remove(),n||t.$element.removeData("selectric").removeData("value"),t.$element.prop("tabindex",t.originalTabindex).off(".sl").off(t.eventTriggers).unwrap().unwrap(),t.state.enabled=!1)}};n.fn.selectric=function(t){return this.each(function(){var i=n.data(this,"selectric");i&&!i.disableOnMobile?"string"==typeof t&&i[t]?i[t]():i.init(t):n.data(this,"selectric",new u(this,t))})};n.fn.selectric.defaults={onChange:function(t){n(t).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;<\/b>',disableOnMobile:!1,nativeOnMobile:!0,openOnFocus:!0,openOnHover:!1,hoverIntentTimeout:500,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,allowWrap:!0,forceRenderAbove:!1,forceRenderBelow:!1,stopPropagation:!0,optionsItemBuilder:"{text}",labelBuilder:"{text}",listBuilder:!1,keys:{previous:[37,38],next:[39,40],select:[9,13,27],open:[13,32,37,38,39,40],close:[9,27]},customClass:{prefix:"selectric",camelCase:!1},multiple:{separator:", ",keepMenuOpen:!0,maxLabelEntries:!1}}});!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n:n(jQuery)}(function(n){function u(r){var u=r||window.event,w=c.call(arguments,1),l=0,s=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(u),r.type="mousewheel","detail"in u&&(e=-1*u.detail),"wheelDelta"in u&&(e=u.wheelDelta),"wheelDeltaY"in u&&(e=u.wheelDeltaY),"wheelDeltaX"in u&&(s=-1*u.wheelDeltaX),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(s=-1*e,e=0),l=0===e?s:e,"deltaY"in u&&(e=-1*u.deltaY,l=e),"deltaX"in u&&(s=u.deltaX,0===e&&(l=-1*s)),0!==e||0!==s)return 1===u.deltaMode?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,s*=v):2===u.deltaMode&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,s*=y),(a=Math.max(Math.abs(e),Math.abs(s)),(!t||t>a)&&(t=a,o(u,a)&&(t/=40)),o(u,a)&&(l/=40,s/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),s=Math[s>=1?"floor":"ceil"](s/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect)&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=s,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,s,e),f&&clearTimeout(f),f=setTimeout(h,200),(n.event.dispatch||n.event.handle).apply(this,w)}function h(){t=null}function o(n,t){return i.settings.adjustOldDeltas&&"mousewheel"===n.type&&t%120==0}var f,t,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice,e,i;if(n.event.fixHooks)for(e=s.length;e;)n.event.fixHooks[s[--e]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],u,!1);else this.onmousewheel=u;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],u,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})});!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n:n(jQuery)}(function(n){function u(r){var u=r||window.event,w=c.call(arguments,1),l=0,s=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(u),r.type="mousewheel","detail"in u&&(e=-1*u.detail),"wheelDelta"in u&&(e=u.wheelDelta),"wheelDeltaY"in u&&(e=u.wheelDeltaY),"wheelDeltaX"in u&&(s=-1*u.wheelDeltaX),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(s=-1*e,e=0),l=0===e?s:e,"deltaY"in u&&(e=-1*u.deltaY,l=e),"deltaX"in u&&(s=u.deltaX,0===e&&(l=-1*s)),0!==e||0!==s)return 1===u.deltaMode?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,s*=v):2===u.deltaMode&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,s*=y),(a=Math.max(Math.abs(e),Math.abs(s)),(!t||t>a)&&(t=a,o(u,a)&&(t/=40)),o(u,a)&&(l/=40,s/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),s=Math[s>=1?"floor":"ceil"](s/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect)&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=s,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,s,e),f&&clearTimeout(f),f=setTimeout(h,200),(n.event.dispatch||n.event.handle).apply(this,w)}function h(){t=null}function o(n,t){return i.settings.adjustOldDeltas&&"mousewheel"===n.type&&t%120==0}var f,t,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice,e,i;if(n.event.fixHooks)for(e=s.length;e;)n.event.fixHooks[s[--e]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],u,!1);else this.onmousewheel=u;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],u,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})});!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"!=typeof module&&module.exports?module.exports=n:n(jQuery,window,document)}(function(n){!function(t){var i="function"==typeof define&&define.amd,r="undefined"!=typeof module&&module.exports,u="https:"==document.location.protocol?"https:":"http:";i||(r?require("jquery-mousewheel")(n):n.event.special.mousewheel||n("head").append(decodeURI("%3Cscript src="+u+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E")));t()}(function(){var h,c="mCustomScrollbar",t="mCS",it=".mCustomScrollbar",ot={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},pt=0,b={},p=window.attachEvent&&!window.addEventListener?1:0,e=!1,i=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],s={init:function(r){var r=n.extend(!0,{},ot,r),e=v.call(this),u,f;if(r.live){if(u=r.liveSelector||this.selector||it,f=n(u),"off"===r.live)return void k(u);b[u]=setTimeout(function(){f.mCustomScrollbar(r);"once"===r.live&&f.length&&k(u)},500)}else k(u);return r.setWidth=r.set_width?r.set_width:r.setWidth,r.setHeight=r.set_height?r.set_height:r.setHeight,r.axis=r.horizontalScroll?"x":wt(r.axis),r.scrollInertia=r.scrollInertia>0&&r.scrollInertia<17?17:r.scrollInertia,"object"!=typeof r.mouseWheel&&1==r.mouseWheel&&(r.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),r.mouseWheel.scrollAmount=r.mouseWheelPixels?r.mouseWheelPixels:r.mouseWheel.scrollAmount,r.mouseWheel.normalizeDelta=r.advanced.normalizeMouseWheelDelta?r.advanced.normalizeMouseWheelDelta:r.mouseWheel.normalizeDelta,r.scrollButtons.scrollType=bt(r.scrollButtons.scrollType),st(r),n(e).each(function(){var u=n(this);if(!u.data(t)){u.data(t,{idx:++pt,opt:r,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:u.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var e=u.data(t),f=e.opt,o=u.data("mcs-axis"),h=u.data("mcs-scrollbar-position"),c=u.data("mcs-theme");o&&(f.axis=o);h&&(f.scrollbarPosition=h);c&&(f.theme=c,st(f));kt.call(this);e&&f.callbacks.onCreate&&"function"==typeof f.callbacks.onCreate&&f.callbacks.onCreate.call(this);n("#mCSB_"+e.idx+"_container img:not(."+i[2]+")").addClass(i[2]);s.update.call(null,u)}})},update:function(r,f){var e=r||v.call(this);return n(e).each(function(){var s=n(this),c;if(s.data(t)){var e=s.data(t),r=e.opt,h=n("#mCSB_"+e.idx+"_container"),a=n("#mCSB_"+e.idx),l=[n("#mCSB_"+e.idx+"_dragger_vertical"),n("#mCSB_"+e.idx+"_dragger_horizontal")];if(!h.length)return;e.tweenRunning&&o(s);f&&e&&r.callbacks.onBeforeUpdate&&"function"==typeof r.callbacks.onBeforeUpdate&&r.callbacks.onBeforeUpdate.call(this);s.hasClass(i[3])&&s.removeClass(i[3]);s.hasClass(i[4])&&s.removeClass(i[4]);a.css("max-height","none");a.height()!==s.height()&&a.css("max-height",s.height());dt.call(this);"y"===r.axis||r.advanced.autoExpandHorizontalScroll||h.css("width",ht(h));e.overflowed=ii.call(this);ct.call(this);r.autoDraggerLength&&ni.call(this);ti.call(this);ri.call(this);c=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)];"x"!==r.axis&&(e.overflowed[0]?l[0].height()>l[0].parent().height()?y.call(this):(u(s,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),e.contentReset.y=null):(y.call(this),"y"===r.axis?g.call(this):"yx"===r.axis&&e.overflowed[1]&&u(s,c[1].toString(),{dir:"x",dur:0,overwrite:"none"})));"y"!==r.axis&&(e.overflowed[1]?l[1].width()>l[1].parent().width()?y.call(this):(u(s,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),e.contentReset.x=null):(y.call(this),"x"===r.axis?g.call(this):"yx"===r.axis&&e.overflowed[0]&&u(s,c[0].toString(),{dir:"y",dur:0,overwrite:"none"})));f&&e&&(2===f&&r.callbacks.onImageLoad&&"function"==typeof r.callbacks.onImageLoad?r.callbacks.onImageLoad.call(this):3===f&&r.callbacks.onSelectorChange&&"function"==typeof r.callbacks.onSelectorChange?r.callbacks.onSelectorChange.call(this):r.callbacks.onUpdate&&"function"==typeof r.callbacks.onUpdate&&r.callbacks.onUpdate.call(this));et.call(this)}})},scrollTo:function(i,r){if("undefined"!=typeof i&&null!=i){var f=v.call(this);return n(f).each(function(){var s=n(this);if(s.data(t)){var o=s.data(t),h=o.opt,c={trigger:"external",scrollInertia:h.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},f=n.extend(!0,{},c,r),e=ft.call(this,i),l=f.scrollInertia>0&&f.scrollInertia<17?17:f.scrollInertia;e[0]=at.call(this,e[0],"y");e[1]=at.call(this,e[1],"x");f.moveDragger&&(e[0]*=o.scrollRatio.y,e[1]*=o.scrollRatio.x);f.dur=wi()?0:l;setTimeout(function(){null!==e[0]&&"undefined"!=typeof e[0]&&"x"!==h.axis&&o.overflowed[0]&&(f.dir="y",f.overwrite="all",u(s,e[0].toString(),f));null!==e[1]&&"undefined"!=typeof e[1]&&"y"!==h.axis&&o.overflowed[1]&&(f.dir="x",f.overwrite="none",u(s,e[1].toString(),f))},f.timeout)}})}},stop:function(){var i=v.call(this);return n(i).each(function(){var i=n(this);i.data(t)&&o(i)})},disable:function(r){var u=v.call(this);return n(u).each(function(){var u=n(this);u.data(t)&&(u.data(t),et.call(this,"remove"),g.call(this),r&&y.call(this),ct.call(this,!0),u.addClass(i[3]))})},destroy:function(){var r=v.call(this);return n(r).each(function(){var f=n(this);if(f.data(t)){var u=f.data(t),e=u.opt,s=n("#mCSB_"+u.idx),o=n("#mCSB_"+u.idx+"_container"),h=n(".mCSB_"+u.idx+"_scrollbar");e.live&&k(e.liveSelector||n(r).selector);et.call(this,"remove");g.call(this);y.call(this);f.removeData(t);a(this,"mcs");h.remove();o.find("img."+i[2]).removeClass(i[2]);s.replaceWith(o.contents());f.removeClass(c+" _"+t+"_"+u.idx+" "+i[6]+" "+i[7]+" "+i[5]+" "+i[3]).addClass(i[4])}})}},v=function(){return"object"!=typeof n(this)||n(this).length<1?it:this},st=function(t){t.autoDraggerLength=n.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1?!1:t.autoDraggerLength;t.autoExpandScrollbar=n.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1?!1:t.autoExpandScrollbar;t.scrollButtons.enable=n.inArray(t.theme,["minimal","minimal-dark"])>-1?!1:t.scrollButtons.enable;t.autoHideScrollbar=n.inArray(t.theme,["minimal","minimal-dark"])>-1?!0:t.autoHideScrollbar;t.scrollbarPosition=n.inArray(t.theme,["minimal","minimal-dark"])>-1?"outside":t.scrollbarPosition},k=function(n){b[n]&&(clearTimeout(b[n]),a(b,n))},wt=function(n){return"yx"===n||"xy"===n||"auto"===n?"yx":"x"===n||"horizontal"===n?"x":"y"},bt=function(n){return"stepped"===n||"pixels"===n||"step"===n||"click"===n?"stepped":"stepless"},kt=function(){var f=n(this),u=f.data(t),r=u.opt,l=r.autoExpandScrollbar?" "+i[1]+"_expand":"",o=["<div id='mCSB_"+u.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+u.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_vertical"+l+"'><div class='"+i[12]+"'><div id='mCSB_"+u.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /><\/div><div class='mCSB_draggerRail' /><\/div><\/div>","<div id='mCSB_"+u.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+u.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_horizontal"+l+"'><div class='"+i[12]+"'><div id='mCSB_"+u.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /><\/div><div class='mCSB_draggerRail' /><\/div><\/div>"],v="yx"===r.axis?"mCSB_vertical_horizontal":"x"===r.axis?"mCSB_horizontal":"mCSB_vertical",a="yx"===r.axis?o[0]+o[1]:"x"===r.axis?o[1]:o[0],y="yx"===r.axis?"<div id='mCSB_"+u.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",p=r.autoHideScrollbar?" "+i[6]:"",w="x"!==r.axis&&"rtl"===u.langDir?" "+i[7]:"",h,s,e;r.setWidth&&f.css("width",r.setWidth);r.setHeight&&f.css("height",r.setHeight);r.setLeft="y"!==r.axis&&"rtl"===u.langDir?"989999px":r.setLeft;f.addClass(c+" _"+t+"_"+u.idx+p+w).wrapInner("<div id='mCSB_"+u.idx+"' class='mCustomScrollBox mCS-"+r.theme+" "+v+"'><div id='mCSB_"+u.idx+"_container' class='mCSB_container' style='position:relative; top:"+r.setTop+"; left:"+r.setLeft+";' dir='"+u.langDir+"' /><\/div>");h=n("#mCSB_"+u.idx);s=n("#mCSB_"+u.idx+"_container");"y"===r.axis||r.advanced.autoExpandHorizontalScroll||s.css("width",ht(s));"outside"===r.scrollbarPosition?("static"===f.css("position")&&f.css("position","relative"),f.css("overflow","visible"),h.addClass("mCSB_outside").after(a)):(h.addClass("mCSB_inside").append(a),s.wrap(y));gt.call(this);e=[n("#mCSB_"+u.idx+"_dragger_vertical"),n("#mCSB_"+u.idx+"_dragger_horizontal")];e[0].css("min-height",e[0].height());e[1].css("min-width",e[1].width())},ht=function(t){var i=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return n(this).outerWidth(!0)}).get())],r=t.parent().width();return i[0]>r?i[0]:i[1]>r?i[1]:"100%"},dt=function(){var e=n(this),f=e.data(t),r=f.opt,i=n("#mCSB_"+f.idx+"_container"),u;r.advanced.autoExpandHorizontalScroll&&"y"!==r.axis&&(i.css({width:"auto","min-width":0,"overflow-x":"scroll"}),u=Math.ceil(i[0].scrollWidth),3===r.advanced.autoExpandHorizontalScroll||2!==r.advanced.autoExpandHorizontalScroll&&u>i.parent().width()?i.css({width:u,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap())},gt=function(){var s=n(this),o=s.data(t),u=o.opt,h=n(".mCSB_"+o.idx+"_scrollbar:first"),f=tt(u.scrollButtons.tabindex)?"tabindex='"+u.scrollButtons.tabindex+"'":"",r=["<a href='#' class='"+i[13]+"' "+f+" />","<a href='#' class='"+i[14]+"' "+f+" />","<a href='#' class='"+i[15]+"' "+f+" />","<a href='#' class='"+i[16]+"' "+f+" />"],e=["x"===u.axis?r[2]:r[0],"x"===u.axis?r[3]:r[1],r[2],r[3]];u.scrollButtons.enable&&h.prepend(e[0]).append(e[1]).next(".mCSB_scrollTools").prepend(e[2]).append(e[3])},ni=function(){var s=n(this),u=s.data(t),f=n("#mCSB_"+u.idx),e=n("#mCSB_"+u.idx+"_container"),r=[n("#mCSB_"+u.idx+"_dragger_vertical"),n("#mCSB_"+u.idx+"_dragger_horizontal")],o=[f.height()/e.outerHeight(!1),f.width()/e.outerWidth(!1)],i=[parseInt(r[0].css("min-height")),Math.round(o[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(o[1]*r[1].parent().width())],h=p&&i[1]<i[0]?i[0]:i[1],c=p&&i[3]<i[2]?i[2]:i[3];r[0].css({height:h,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":i[0]+"px"});r[1].css({width:c,"max-width":r[1].parent().width()-10})},ti=function(){var s=n(this),i=s.data(t),u=n("#mCSB_"+i.idx),f=n("#mCSB_"+i.idx+"_container"),r=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],e=[f.outerHeight(!1)-u.height(),f.outerWidth(!1)-u.width()],o=[e[0]/(r[0].parent().height()-r[0].height()),e[1]/(r[1].parent().width()-r[1].width())];i.scrollRatio={y:o[0],x:o[1]}},d=function(n,t,r){var f=r?i[0]+"_expanded":"",u=n.closest(".mCSB_scrollTools");"active"===t?(n.toggleClass(i[0]+" "+f),u.toggleClass(i[1]),n[0]._draggable=n[0]._draggable?0:1):n[0]._draggable||("hide"===t?(n.removeClass(i[0]),u.removeClass(i[1])):(n.addClass(i[0]),u.addClass(i[1])))},ii=function(){var h=n(this),r=h.data(t),e=n("#mCSB_"+r.idx),i=n("#mCSB_"+r.idx+"_container"),u=null==r.overflowed?i.height():i.outerHeight(!1),f=null==r.overflowed?i.width():i.outerWidth(!1),o=i[0].scrollHeight,s=i[0].scrollWidth;return o>u&&(u=o),s>f&&(f=s),[u>e.height(),f>e.width()]},y=function(){var r=n(this),i=r.data(t),f=i.opt,c=n("#mCSB_"+i.idx),s=n("#mCSB_"+i.idx+"_container"),h=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],e;(o(r),("x"!==f.axis&&!i.overflowed[0]||"y"===f.axis&&i.overflowed[0])&&(h[0].add(s).css("top",0),u(r,"_resetY")),"y"!==f.axis&&!i.overflowed[1]||"x"===f.axis&&i.overflowed[1])&&(e=dx=0,"rtl"===i.langDir&&(e=c.width()-s.outerWidth(!1),dx=Math.abs(e/i.scrollRatio.x)),s.css("left",e),h[1].css("left",dx),u(r,"_resetX"))},ri=function(){function u(){e=setTimeout(function(){n.event.special.mousewheel?(clearTimeout(e),oi.call(f[0])):u()},100)}var f=n(this),r=f.data(t),i=r.opt,e;r.bindEvents||((ui.call(this),i.contentTouchScroll&&fi.call(this),ei.call(this),i.mouseWheel.enable)&&u(),hi.call(this),li.call(this),i.advanced.autoScrollOnFocus&&ci.call(this),i.scrollButtons.enable&&ai.call(this),i.keyboard.enable&&vi.call(this),r.bindEvents=!0)},g=function(){var f=n(this),r=f.data(t),u=r.opt,o=t+"_"+r.idx,s=".mCSB_"+r.idx+"_scrollbar",e=n("#mCSB_"+r.idx+",#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,"+s+" ."+i[12]+",#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal,"+s+">a"),h=n("#mCSB_"+r.idx+"_container");u.advanced.releaseDraggableSelectors&&e.add(n(u.advanced.releaseDraggableSelectors));u.advanced.extraDraggableSelectors&&e.add(n(u.advanced.extraDraggableSelectors));r.bindEvents&&(n(document).add(n(!l()||top.document)).unbind("."+o),e.each(function(){n(this).unbind("."+o)}),clearTimeout(f[0]._focusTimeout),a(f[0],"_focusTimeout"),clearTimeout(r.sequential.step),a(r.sequential,"step"),clearTimeout(h[0].onCompleteTimeout),a(h[0],"onCompleteTimeout"),r.bindEvents=!1)},ct=function(r){var h=n(this),u=h.data(t),o=u.opt,c=n("#mCSB_"+u.idx+"_container_wrapper"),f=c.length?c:n("#mCSB_"+u.idx+"_container"),e=[n("#mCSB_"+u.idx+"_scrollbar_vertical"),n("#mCSB_"+u.idx+"_scrollbar_horizontal")],s=[e[0].find(".mCSB_dragger"),e[1].find(".mCSB_dragger")];"x"!==o.axis&&(u.overflowed[0]&&!r?(e[0].add(s[0]).add(e[0].children("a")).css("display","block"),f.removeClass(i[8]+" "+i[10])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&s[0].css("display","none"),f.removeClass(i[10])):(e[0].css("display","none"),f.addClass(i[10])),f.addClass(i[8])));"y"!==o.axis&&(u.overflowed[1]&&!r?(e[1].add(s[1]).add(e[1].children("a")).css("display","block"),f.removeClass(i[9]+" "+i[11])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&s[1].css("display","none"),f.removeClass(i[11])):(e[1].css("display","none"),f.addClass(i[11])),f.addClass(i[9])));u.overflowed[0]||u.overflowed[1]?h.removeClass(i[5]):h.addClass(i[5])},r=function(t){var e=t.type,i=t.target.ownerDocument!==document&&null!==frameElement?[n(frameElement).offset().top,n(frameElement).offset().left]:null,u=l()&&t.target.ownerDocument!==top.document&&null!==frameElement?[n(t.view.frameElement).offset().top,n(t.view.frameElement).offset().left]:[0,0],r,f;switch(e){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[t.originalEvent.pageY-i[0]+u[0],t.originalEvent.pageX-i[1]+u[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":return r=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],f=t.originalEvent.touches.length||t.originalEvent.changedTouches.length,t.target.ownerDocument!==document?[r.screenY,r.screenX,f>1]:[r.pageY,r.pageX,f>1];default:return i?[t.pageY-i[0]+u[0],t.pageX-i[1]+u[1],!1]:[t.pageY,t.pageX,!1]}},ui=function(){function k(n,t,r,f){var e,o;(w[0].idleTimer=h.scrollInertia<233?250:0,i.attr("id")===y[1])?(e="x",o=(i[0].offsetLeft-t+f)*s.scrollRatio.x):(e="y",o=(i[0].offsetTop-n+r)*s.scrollRatio.y);u(v,o.toString(),{dir:e,drag:!0})}var i,c,a,v=n(this),s=v.data(t),h=s.opt,f=t+"_"+s.idx,y=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],w=n("#mCSB_"+s.idx+"_container"),b=n("#"+y[0]+",#"+y[1]),g=h.advanced.releaseDraggableSelectors?b.add(n(h.advanced.releaseDraggableSelectors)):b,nt=h.advanced.extraDraggableSelectors?n(!l()||top.document).add(n(h.advanced.extraDraggableSelectors)):n(!l()||top.document);b.bind("contextmenu."+f,function(n){n.preventDefault()}).bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),yt(t)){e=!0;p&&(document.onselectstart=function(){return!1});lt.call(w,!1);o(v);i=n(this);var u=i.offset(),f=r(t)[0]-u.top,s=r(t)[1]-u.left,l=i.height()+u.top,y=i.width()+u.left;l>f&&f>0&&y>s&&s>0&&(c=f,a=s);d(i,"active",h.autoExpandScrollbar)}}).bind("touchmove."+f,function(n){n.stopImmediatePropagation();n.preventDefault();var t=i.offset(),u=r(n)[0]-t.top,f=r(n)[1]-t.left;k(c,a,u,f)});n(document).add(nt).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(n){if(i){var t=i.offset(),u=r(n)[0]-t.top,f=r(n)[1]-t.left;if(c===u&&a===f)return;k(c,a,u,f)}}).add(g).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(){i&&(d(i,"active",h.autoExpandScrollbar),i=null);e=!1;p&&(document.onselectstart=null);lt.call(w,!0)})},fi=function(){function at(n){if(!nt(n)||e||r(n)[2])return void(h=0);h=1;it=0;rt=0;st=1;g.removeClass("mCS_touch_action");var t=b.offset();k=r(n)[0]-t.top;d=r(n)[1]-t.left;v=[r(n)[0],r(n)[1]]}function vt(n){var c,l,a,y;if(nt(n)&&!e&&!r(n)[2]&&(f.documentTouchScroll||n.preventDefault(),n.stopImmediatePropagation(),(!rt||it)&&st)){gt=w();var o=ut.offset(),t=r(n)[0]-o.top,u=r(n)[1]-o.left,h="mcsLinearOut";(et.push(t),ot.push(u),v[2]=Math.abs(r(n)[0]-v[0]),v[3]=Math.abs(r(n)[1]-v[1]),i.overflowed[0])&&(c=ft[0].parent().height()-ft[0].height(),l=k-t>0&&t-k>-(c*i.scrollRatio.y)&&(2*v[3]<v[2]||"yx"===f.axis));i.overflowed[1]&&(a=ft[1].parent().width()-ft[1].width(),y=d-u>0&&u-d>-(a*i.scrollRatio.x)&&(2*v[2]<v[3]||"yx"===f.axis));l||y?(ii||n.preventDefault(),it=1):(rt=1,g.addClass("mCS_touch_action"));ii&&n.preventDefault();s="yx"===f.axis?[k-t,d-u]:"x"===f.axis?[null,d-u]:[k-t,null];b[0].idleTimer=250;i.overflowed[0]&&tt(s[0],ni,h,"y","all",!0);i.overflowed[1]&&tt(s[1],ni,h,"x",lt,!0)}}function yt(n){if(!nt(n)||e||r(n)[2])return void(h=0);h=1;n.stopImmediatePropagation();o(g);dt=w();var t=ut.offset();bt=r(n)[0]-t.top;kt=r(n)[1]-t.left;et=[];ot=[]}function pt(n){var t,u,h;if(nt(n)&&!e&&!r(n)[2]){st=0;n.stopImmediatePropagation();it=0;rt=0;ht=w();var l=ut.offset(),a=r(n)[0]-l.top,v=r(n)[1]-l.left;if(!(ht-gt>30)){c=1e3/(ht-dt);var p="mcsEaseOut",o=2.5>c,k=o?[et[et.length-2],ot[ot.length-2]]:[0,0];y=o?[a-k[0],v-k[1]]:[a-bt,v-kt];t=[Math.abs(y[0]),Math.abs(y[1])];c=o?[Math.abs(y[0]/4),Math.abs(y[1]/4)]:[c,c];u=[Math.abs(b[0].offsetTop)-y[0]*wt(t[0]/c[0],c[0]),Math.abs(b[0].offsetLeft)-y[1]*wt(t[1]/c[1],c[1])];s="yx"===f.axis?[u[0],u[1]]:"x"===f.axis?[null,u[1]]:[u[0],null];ct=[4*t[0]+f.scrollInertia,4*t[1]+f.scrollInertia];h=parseInt(f.contentTouchScroll)||0;s[0]=t[0]>h?s[0]:0;s[1]=t[1]>h?s[1]:0;i.overflowed[0]&&tt(s[0],ct[0],p,"y",lt,!1);i.overflowed[1]&&tt(s[1],ct[1],p,"x",lt,!1)}}}function wt(n,t){var i=[1.5*t,2*t,t/1.5,t/2];return n>90?t>4?i[0]:i[3]:n>60?t>3?i[3]:i[2]:n>30?t>8?i[1]:t>6?i[0]:t>4?t:i[2]:t>8?t:i[3]}function tt(n,t,i,r,f,e){n&&u(g,n.toString(),{dur:t,scrollEasing:i,dir:r,overwrite:f,drag:e})}var st,k,d,bt,kt,dt,gt,ht,y,c,s,ct,it,rt,g=n(this),i=g.data(t),f=i.opt,a=t+"_"+i.idx,ut=n("#mCSB_"+i.idx),b=n("#mCSB_"+i.idx+"_container"),ft=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],et=[],ot=[],ni=0,lt="yx"===f.axis?"none":"all",v=[],ti=b.find("iframe"),p=["touchstart."+a+" pointerdown."+a+" MSPointerDown."+a,"touchmove."+a+" pointermove."+a+" MSPointerMove."+a,"touchend."+a+" pointerup."+a+" MSPointerUp."+a],ii=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;b.bind(p[0],function(n){at(n)}).bind(p[1],function(n){vt(n)});ut.bind(p[0],function(n){yt(n)}).bind(p[2],function(n){pt(n)});ti.length&&ti.each(function(){n(this).bind("load",function(){l(this)&&n(this.contentDocument||this.contentWindow.document).bind(p[0],function(n){at(n);yt(n)}).bind(p[1],function(n){vt(n)}).bind(p[2],function(n){pt(n)})})})},ei=function(){function y(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function i(n,t,i){l.type=i&&u?"stepped":"stepless";l.scrollAmount=10;ut(a,n,t,"mcsLinearOut",i?60:null)}var u,a=n(this),f=a.data(t),v=f.opt,l=f.sequential,s=t+"_"+f.idx,o=n("#mCSB_"+f.idx+"_container"),c=o.parent();o.bind("mousedown."+s,function(){h||u||(u=1,e=!0)}).add(document).bind("mousemove."+s,function(n){if(!h&&u&&y()){var s=o.offset(),t=r(n)[0]-s.top+o[0].offsetTop,e=r(n)[1]-s.left+o[0].offsetLeft;t>0&&t<c.height()&&e>0&&e<c.width()?l.step&&i("off",null,"stepped"):("x"!==v.axis&&f.overflowed[0]&&(0>t?i("on",38):t>c.height()&&i("on",40)),"y"!==v.axis&&f.overflowed[1]&&(0>e?i("on",37):e>c.width()&&i("on",39)))}}).bind("mouseup."+s+" dragend."+s,function(){h||(u&&(u=0,i("off",null)),e=!1)})},oi=function(){function h(t,h){var a,v;if(o(s),!si(s,t.target)){if(a="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):p&&t.deltaFactor<100?100:t.deltaFactor||100,v=i.scrollInertia,"x"===i.axis||"x"===i.mouseWheel.axis)var y="x",l=[Math.round(a*r.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],w="auto"!==i.mouseWheel.scrollAmount?l[1]:l[0]>=e.width()?.9*e.width():l[0],k=Math.abs(n("#mCSB_"+r.idx+"_container")[0].offsetLeft),b=f[1][0].offsetLeft,d=f[1].parent().width()-f[1].width(),c="y"===i.mouseWheel.axis?t.deltaY||h:t.deltaX;else var y="y",l=[Math.round(a*r.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],w="auto"!==i.mouseWheel.scrollAmount?l[1]:l[0]>=e.height()?.9*e.height():l[0],k=Math.abs(n("#mCSB_"+r.idx+"_container")[0].offsetTop),b=f[0][0].offsetTop,d=f[0].parent().height()-f[0].height(),c=t.deltaY||h;("y"!==y||r.overflowed[0])&&("x"!==y||r.overflowed[1])&&((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(c=-c),i.mouseWheel.normalizeDelta&&(c=0>c?-1:1),(c>0&&0!==b||0>c&&b!==d||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!i.mouseWheel.normalizeDelta&&(w=t.deltaFactor,v=17),u(s,(k-c*w).toString(),{dir:y,dur:v}))}}if(n(this).data(t)){var s=n(this),r=s.data(t),i=r.opt,c=t+"_"+r.idx,e=n("#mCSB_"+r.idx),f=[n("#mCSB_"+r.idx+"_dragger_vertical"),n("#mCSB_"+r.idx+"_dragger_horizontal")],a=n("#mCSB_"+r.idx+"_container").find("iframe");a.length&&a.each(function(){n(this).bind("load",function(){l(this)&&n(this.contentDocument||this.contentWindow.document).bind("mousewheel."+c,function(n,t){h(n,t)})})});e.bind("mousewheel."+c,function(n,t){h(n,t)})}},rt={},l=function(t){var r=!1,i=!1,u=null,f;if(void 0===t?i="#empty":void 0!==n(t).attr("id")&&(i=n(t).attr("id")),i!==!1&&void 0!==rt[i])return rt[i];if(t){try{f=t.contentDocument||t.contentWindow.document;u=f.body.innerHTML}catch(e){}r=null!==u}else{try{f=top.document;u=f.body.innerHTML}catch(e){}r=null!==u}return i!==!1&&(rt[i]=r),r},lt=function(n){var t=this.find("iframe"),i;t.length&&(i=n?"auto":"none",t.css("pointer-events",i))},si=function(i,r){var u=r.nodeName.toLowerCase(),f=i.data(t).opt.mouseWheel.disableOver;return n.inArray(u,f)>-1&&!(n.inArray(u,["select","textarea"])>-1&&!n(r).is(":focus"))},hi=function(){var s,h=n(this),f=h.data(t),r=t+"_"+f.idx,c=n("#mCSB_"+f.idx+"_container"),l=c.parent(),a=n(".mCSB_"+f.idx+"_scrollbar ."+i[12]);a.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,function(t){e=!0;n(t.target).hasClass("mCSB_dragger")||(s=1)}).bind("touchend."+r+" pointerup."+r+" MSPointerUp."+r,function(){e=!1}).bind("click."+r,function(t){var r,e;if(s&&(s=0,n(t.target).hasClass(i[12])||n(t.target).hasClass("mCSB_draggerRail"))){if(o(h),r=n(this),e=r.find(".mCSB_dragger"),r.parent(".mCSB_scrollTools_horizontal").length>0){if(!f.overflowed[1])return;var v="x",a=t.pageX>e.offset().left?-1:1,y=Math.abs(c[0].offsetLeft)-a*.9*l.width()}else{if(!f.overflowed[0])return;var v="y",a=t.pageY>e.offset().top?-1:1,y=Math.abs(c[0].offsetTop)-a*.9*l.height()}u(h,y.toString(),{dir:v,scrollEasing:"mcsEaseInOut"})}})},ci=function(){var i=n(this),s=i.data(t),e=s.opt,c=t+"_"+s.idx,r=n("#mCSB_"+s.idx+"_container"),h=r.parent();r.bind("focusin."+c,function(){var t=n(document.activeElement),c=r.find(".mCustomScrollBox").length,s=0;t.is(e.advanced.autoScrollOnFocus)&&(o(i),clearTimeout(i[0]._focusTimeout),i[0]._focusTimer=c?(s+17)*c:0,i[0]._focusTimeout=setTimeout(function(){var n=[f(t)[0],f(t)[1]],o=[r[0].offsetTop,r[0].offsetLeft],c=[o[0]+n[0]>=0&&o[0]+n[0]<h.height()-t.outerHeight(!1),o[1]+n[1]>=0&&o[0]+n[1]<h.width()-t.outerWidth(!1)],l="yx"!==e.axis||c[0]||c[1]?"all":"none";"x"===e.axis||c[0]||u(i,n[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:s});"y"===e.axis||c[1]||u(i,n[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:s})},i[0]._focusTimer))})},li=function(){var u=n(this),i=u.data(t),f=t+"_"+i.idx,r=n("#mCSB_"+i.idx+"_container").parent();r.bind("scroll."+f,function(){0===r.scrollTop()&&0===r.scrollLeft()||n(".mCSB_"+i.idx+"_scrollbar").css("visibility","hidden")})},ai=function(){var f=n(this),r=f.data(t),o=r.opt,u=r.sequential,i=t+"_"+r.idx,s=".mCSB_"+r.idx+"_scrollbar",h=n(s+">a");h.bind("contextmenu."+i,function(n){n.preventDefault()}).bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i+" mouseup."+i+" touchend."+i+" pointerup."+i+" MSPointerUp."+i+" mouseout."+i+" pointerout."+i+" MSPointerOut."+i+" click."+i,function(t){function i(n,t){u.scrollAmount=o.scrollButtons.scrollAmount;ut(f,n,t)}if(t.preventDefault(),yt(t)){var s=n(this).attr("class");switch(u.type=o.scrollButtons.scrollType,t.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===u.type)return;e=!0;r.tweenRunning=!1;i("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===u.type)return;e=!1;u.dir&&i("off",s);break;case"click":if("stepped"!==u.type||r.tweenRunning)return;i("on",s)}}})},vi=function(){function a(t){function w(n,t){s.type=r.keyboard.scrollType;s.scrollAmount=r.keyboard.scrollAmount;"stepped"===s.type&&i.tweenRunning||ut(e,n,t)}var c,y,p,l,a;switch(t.type){case"blur":i.tweenRunning&&s.dir&&w("off",null);break;case"keydown":case"keyup":if(c=t.keyCode?t.keyCode:t.which,y="on","x"!==r.axis&&(38===c||40===c)||"y"!==r.axis&&(37===c||39===c)){if((38===c||40===c)&&!i.overflowed[0]||(37===c||39===c)&&!i.overflowed[1])return;"keyup"===t.type&&(y="off");n(document.activeElement).is(v)||(t.preventDefault(),t.stopImmediatePropagation(),w(y,c))}else 33===c||34===c?((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)&&(o(e),p=34===c?-1:1,"x"===r.axis||"yx"===r.axis&&i.overflowed[1]&&!i.overflowed[0]?(l="x",a=Math.abs(f[0].offsetLeft)-p*.9*h.width()):(l="y",a=Math.abs(f[0].offsetTop)-p*.9*h.height()),u(e,a.toString(),{dir:l,scrollEasing:"mcsEaseInOut"})):35!==c&&36!==c||n(document.activeElement).is(v)||((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"!==t.type)||("x"===r.axis||"yx"===r.axis&&i.overflowed[1]&&!i.overflowed[0]?(l="x",a=35===c?Math.abs(h.width()-f.outerWidth(!1)):0):(l="y",a=35===c?Math.abs(h.height()-f.outerHeight(!1)):0),u(e,a.toString(),{dir:l,scrollEasing:"mcsEaseInOut"}))}}var e=n(this),i=e.data(t),r=i.opt,s=i.sequential,c=t+"_"+i.idx,w=n("#mCSB_"+i.idx),f=n("#mCSB_"+i.idx+"_container"),h=f.parent(),v="input,textarea,select,datalist,keygen,[contenteditable='true']",y=f.find("iframe"),p=["blur."+c+" keydown."+c+" keyup."+c];y.length&&y.each(function(){n(this).bind("load",function(){l(this)&&n(this.contentDocument||this.contentWindow.document).bind(p[0],function(n){a(n)})})});w.attr("tabindex","0").bind(p[0],function(n){a(n)})},ut=function(r,f,e,s,h){function y(n){l.snapAmount&&(c.scrollAmount=l.snapAmount instanceof Array?"x"===c.dir[0]?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount);var i="stepped"!==c.type,f=h?h:n?i?k/1.5:d:1e3/60,e=n?i?7.5:40:2.5,t=[Math.abs(p[0].offsetTop),Math.abs(p[0].offsetLeft)],o=[v.scrollRatio.y>10?10:v.scrollRatio.y,v.scrollRatio.x>10?10:v.scrollRatio.x],w="x"===c.dir[0]?t[1]+c.dir[1]*o[1]*e:t[0]+c.dir[1]*o[0]*e,b="x"===c.dir[0]?t[1]+c.dir[1]*parseInt(c.scrollAmount):t[0]+c.dir[1]*parseInt(c.scrollAmount),a="auto"!==c.scrollAmount?b:w,g=s?s:n?i?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",nt=!!n;return n&&17>f&&(a="x"===c.dir[0]?t[1]:t[0]),u(r,a.toString(),{dir:c.dir[0],scrollEasing:g,dur:f,onComplete:nt}),n?void(c.dir=!1):(clearTimeout(c.step),void(c.step=setTimeout(function(){y()},f)))}function b(){clearTimeout(c.step);a(c,"step");o(r)}var v=r.data(t),l=v.opt,c=v.sequential,p=n("#mCSB_"+v.idx+"_container"),w="stepped"===c.type,k=l.scrollInertia<26?26:l.scrollInertia,d=l.scrollInertia<1?17:l.scrollInertia;switch(f){case"on":if(c.dir=[e===i[16]||e===i[15]||39===e||37===e?"x":"y",e===i[13]||e===i[15]||38===e||37===e?-1:1],o(r),tt(e)&&"stepped"===c.type)return;y(w);break;case"off":b();(w||v.tweenRunning&&c.dir)&&y(!0)}},ft=function(i){var u=n(this).data(t).opt,r=[];return"function"==typeof i&&(i=i()),i instanceof Array?r=i.length>1?[i[0],i[1]]:"x"===u.axis?[null,i[0]]:[i[0],null]:(r[0]=i.y?i.y:i.x||"x"===u.axis?null:i,r[1]=i.x?i.x:i.y||"y"===u.axis?null:i),"function"==typeof r[0]&&(r[0]=r[0]()),"function"==typeof r[1]&&(r[1]=r[1]()),r},at=function(i,r){var h,e;if(null!=i&&"undefined"!=typeof i){var c=n(this),l=c.data(t),v=l.opt,u=n("#mCSB_"+l.idx+"_container"),o=u.parent(),y=typeof i;r||(r="x"===v.axis?"x":"y");var p="x"===r?u.outerWidth(!1)-o.width():u.outerHeight(!1)-o.height(),a="x"===r?u[0].offsetLeft:u[0].offsetTop,w="x"===r?"left":"top";switch(y){case"function":return i();case"object":return(e=i.jquery?i:n(i),!e.length)?void 0:"x"===r?f(e)[1]:f(e)[0];case"string":case"number":return tt(i)?Math.abs(i):-1!==i.indexOf("%")?Math.abs(p*parseInt(i)/100):-1!==i.indexOf("-=")?Math.abs(a-parseInt(i.split("-=")[1])):-1!==i.indexOf("+=")?(h=a+parseInt(i.split("+=")[1]),h>=0?0:Math.abs(h)):-1!==i.indexOf("px")&&tt(i.split("px")[0])?Math.abs(i.split("px")[0]):"top"===i||"left"===i?0:"bottom"===i?Math.abs(o.height()-u.outerHeight(!1)):"right"===i?Math.abs(o.width()-u.outerWidth(!1)):"first"===i||"last"===i?(e=u.find(":"+i),"x"===r?f(e)[1]:f(e)[0]):n(i).length?"x"===r?f(n(i))[1]:f(n(i))[0]:(u.css(w,i),void s.update.call(null,c[0]))}}},et=function(r){function c(){return clearTimeout(e[0].autoUpdate),0===o.parents("html").length?void(o=null):void(e[0].autoUpdate=setTimeout(function(){return f.advanced.updateOnSelectorChange&&(u.poll.change.n=v(),u.poll.change.n!==u.poll.change.o)?(u.poll.change.o=u.poll.change.n,void h(3)):f.advanced.updateOnContentResize&&(u.poll.size.n=o[0].scrollHeight+o[0].scrollWidth+e[0].offsetHeight+o[0].offsetHeight+o[0].offsetWidth,u.poll.size.n!==u.poll.size.o)?(u.poll.size.o=u.poll.size.n,void h(1)):!f.advanced.updateOnImageLoad||"auto"===f.advanced.updateOnImageLoad&&"y"===f.axis||(u.poll.img.n=e.find("img").length,u.poll.img.n===u.poll.img.o)?void((f.advanced.updateOnSelectorChange||f.advanced.updateOnContentResize||f.advanced.updateOnImageLoad)&&c()):(u.poll.img.o=u.poll.img.n,void e.find("img").each(function(){l(this)}))},f.advanced.autoUpdateTimeout))}function l(t){function u(n,t){return function(){return t.apply(n,arguments)}}function f(){this.onload=null;n(t).addClass(i[2]);h(2)}if(n(t).hasClass(i[2]))return void h();var r=new Image;r.onload=u(r,f);r.src=t.src}function v(){f.advanced.updateOnSelectorChange===!0&&(f.advanced.updateOnSelectorChange="*");var n=0,t=e.find(f.advanced.updateOnSelectorChange);return f.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){n+=this.offsetHeight+this.offsetWidth}),n}function h(n){clearTimeout(e[0].autoUpdate);s.update.call(null,o[0],n)}var o=n(this),u=o.data(t),f=u.opt,e=n("#mCSB_"+u.idx+"_container");return r?(clearTimeout(e[0].autoUpdate),void a(e[0],"autoUpdate")):void c()},yi=function(n,t,i){return Math.round(n/t)*t-i},o=function(i){var r=i.data(t),u=n("#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal");u.each(function(){pi.call(this)})},u=function(i,r,u){function h(n){return f&&e.callbacks[n]&&"function"==typeof e.callbacks[n]}function rt(){return[e.callbacks.alwaysTriggerOffsets||w>=l[0]+v,e.callbacks.alwaysTriggerOffsets||-y>=w]}function a(){var n=[o[0].offsetTop,o[0].offsetLeft],t=[c[0].offsetTop,c[0].offsetLeft],r=[o.outerHeight(!1),o.outerWidth(!1)],f=[p.height(),p.width()];i[0].mcs={content:o,top:n[0],left:n[1],draggerTop:t[0],draggerLeft:t[1],topPct:Math.round(100*Math.abs(n[0])/(Math.abs(r[0])-f[0])),leftPct:Math.round(100*Math.abs(n[1])/(Math.abs(r[1])-f[1])),direction:u.dir}}var f=i.data(t),e=f.opt,ut={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:e.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},u=n.extend(ut,u),k=[u.dur,u.drag?0:u.dur],p=n("#mCSB_"+f.idx),o=n("#mCSB_"+f.idx+"_container"),b=o.parent(),g=e.callbacks.onTotalScrollOffset?ft.call(i,e.callbacks.onTotalScrollOffset):[0,0],nt=e.callbacks.onTotalScrollBackOffset?ft.call(i,e.callbacks.onTotalScrollBackOffset):[0,0],tt;if(f.trigger=u.trigger,0===b.scrollTop()&&0===b.scrollLeft()||(n(".mCSB_"+f.idx+"_scrollbar").css("visibility","visible"),b.scrollTop(0).scrollLeft(0)),"_resetY"!==r||f.contentReset.y||(h("onOverflowYNone")&&e.callbacks.onOverflowYNone.call(i[0]),f.contentReset.y=1),"_resetX"!==r||f.contentReset.x||(h("onOverflowXNone")&&e.callbacks.onOverflowXNone.call(i[0]),f.contentReset.x=1),"_resetY"!==r&&"_resetX"!==r){(!f.contentReset.y&&i[0].mcs||!f.overflowed[0]||(h("onOverflowY")&&e.callbacks.onOverflowY.call(i[0]),f.contentReset.x=null),!f.contentReset.x&&i[0].mcs||!f.overflowed[1]||(h("onOverflowX")&&e.callbacks.onOverflowX.call(i[0]),f.contentReset.x=null),e.snapAmount)&&(tt=e.snapAmount instanceof Array?"x"===u.dir?e.snapAmount[1]:e.snapAmount[0]:e.snapAmount,r=yi(r,tt,e.snapOffset));switch(u.dir){case"x":var c=n("#mCSB_"+f.idx+"_dragger_horizontal"),it="left",w=o[0].offsetLeft,l=[p.width()-o.outerWidth(!1),c.parent().width()-c.width()],s=[r,0===r?0:r/f.scrollRatio.x],v=g[1],y=nt[1],et=v>0?v/f.scrollRatio.x:0,ot=y>0?y/f.scrollRatio.x:0;break;case"y":var c=n("#mCSB_"+f.idx+"_dragger_vertical"),it="top",w=o[0].offsetTop,l=[p.height()-o.outerHeight(!1),c.parent().height()-c.height()],s=[r,0===r?0:r/f.scrollRatio.y],v=g[0],y=nt[0],et=v>0?v/f.scrollRatio.y:0,ot=y>0?y/f.scrollRatio.y:0}s[1]<0||0===s[0]&&0===s[1]?s=[0,0]:s[1]>=l[1]?s=[l[0],l[1]]:s[0]=-s[0];i[0].mcs||(a(),h("onInit")&&e.callbacks.onInit.call(i[0]));clearTimeout(o[0].onCompleteTimeout);vt(c[0],it,Math.round(s[1]),k[1],u.scrollEasing);!f.tweenRunning&&(0===w&&s[0]>=0||w===l[0]&&s[0]<=l[0])||vt(o[0],it,Math.round(s[0]),k[0],u.scrollEasing,u.overwrite,{onStart:function(){u.callbacks&&u.onStart&&!f.tweenRunning&&(h("onScrollStart")&&(a(),e.callbacks.onScrollStart.call(i[0])),f.tweenRunning=!0,d(c),f.cbOffsets=rt())},onUpdate:function(){u.callbacks&&u.onUpdate&&h("whileScrolling")&&(a(),e.callbacks.whileScrolling.call(i[0]))},onComplete:function(){if(u.callbacks&&u.onComplete){"yx"===e.axis&&clearTimeout(o[0].onCompleteTimeout);var n=o[0].idleTimer||0;o[0].onCompleteTimeout=setTimeout(function(){h("onScroll")&&(a(),e.callbacks.onScroll.call(i[0]));h("onTotalScroll")&&s[1]>=l[1]-et&&f.cbOffsets[0]&&(a(),e.callbacks.onTotalScroll.call(i[0]));h("onTotalScrollBack")&&s[1]<=ot&&f.cbOffsets[1]&&(a(),e.callbacks.onTotalScrollBack.call(i[0]));f.tweenRunning=!1;o[0].idleTimer=0;d(c,"hide")},n)}}})}},vt=function(n,t,i,r,u,f,e){function a(){o.stop||(s||g.call(),s=w()-it,v(),s>=o.time&&(o.time=s>o.time?s+h-(s-o.time):s+h-1,o.time<s+1&&(o.time=s+1)),o.time<r?o.id=c(a):tt.call())}function v(){r>0?(o.currVal=d(o.time,l,p,r,u),y[t]=Math.round(o.currVal)+"px"):y[t]=i+"px";nt.call()}function b(){h=1e3/60;o.time=s+h;c=window.requestAnimationFrame?window.requestAnimationFrame:function(n){return v(),setTimeout(n,.01)};o.id=c(a)}function k(){null!=o.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(o.id):clearTimeout(o.id),o.id=null)}function d(n,t,i,r,u){switch(u){case"linear":case"mcsLinear":return i*n/r+t;case"mcsLinearOut":return n/=r,n--,i*Math.sqrt(1-n*n)+t;case"easeInOutSmooth":return n/=r/2,1>n?i/2*n*n+t:(n--,-i/2*(n*(n-2)-1)+t);case"easeInOutStrong":return n/=r/2,1>n?i/2*Math.pow(2,10*(n-1))+t:(n--,i/2*(-Math.pow(2,-10*n)+2)+t);case"easeInOut":case"mcsEaseInOut":return n/=r/2,1>n?i/2*n*n*n+t:(n-=2,i/2*(n*n*n+2)+t);case"easeOutSmooth":return n/=r,n--,-i*(n*n*n*n-1)+t;case"easeOutStrong":return i*(-Math.pow(2,-10*n/r)+1)+t;case"easeOut":case"mcsEaseOut":default:var f=(n/=r)*n,e=f*n;return t+i*(.499999999999997*e*f+-2.5*f*f+5.5*e+-6.5*f+4*n)}}var p;n._mTween||(n._mTween={top:{},left:{}});var h,c,e=e||{},g=e.onStart||function(){},nt=e.onUpdate||function(){},tt=e.onComplete||function(){},it=w(),s=0,l=n.offsetTop,y=n.style,o=n._mTween[t];"left"===t&&(l=n.offsetLeft);p=i-l;o.stop=0;"none"!==f&&k();b()},w=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},pi=function(){var n=this,r,i,t;for(n._mTween||(n._mTween={top:{},left:{}}),r=["top","left"],i=0;i<r.length;i++)t=r[i],n._mTween[t].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(n._mTween[t].id):clearTimeout(n._mTween[t].id),n._mTween[t].id=null,n._mTween[t].stop=1)},a=function(n,t){try{delete n[t]}catch(i){n[t]=null}},yt=function(n){return!(n.which&&1!==n.which)},nt=function(n){var t=n.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},tt=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},f=function(n){var t=n.parents(".mCSB_container");return[n.offset().top-t.offset().top,n.offset().left-t.offset().left]},wi=function(){function t(){var t=["webkit","moz","ms","o"],n;if("hidden"in document)return"hidden";for(n=0;n<t.length;n++)if(t[n]+"Hidden"in document)return t[n]+"Hidden";return null}var n=t();return n?document[n]:!1};n.fn[c]=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void n.error("Method "+t+" does not exist"):s.init.apply(this,arguments)};n[c]=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void n.error("Method "+t+" does not exist"):s.init.apply(this,arguments)};n[c].defaults=ot;window[c]=!0;n(window).bind("load",function(){n(it)[c]();n.extend(n.expr[":"],{mcsInView:n.expr[":"].mcsInView||function(t){var e,r,i=n(t),u=i.parents(".mCSB_container");if(u.length)return e=u.parent(),r=[u[0].offsetTop,u[0].offsetLeft],r[0]+f(i)[0]>=0&&r[0]+f(i)[0]<e.height()-i.outerHeight(!1)&&r[1]+f(i)[1]>=0&&r[1]+f(i)[1]<e.width()-i.outerWidth(!1)},mcsInSight:n.expr[":"].mcsInSight||function(t,i,r){var e,u,o,s,h=n(t),c=h.parents(".mCSB_container"),l="exact"===r[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return e=[h.outerHeight(!1),h.outerWidth(!1)],o=[c[0].offsetTop+f(h)[0],c[0].offsetLeft+f(h)[1]],u=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],s=[e[0]<u[0]?l[0]:l[1],e[1]<u[1]?l[0]:l[1]],o[0]-u[0]*s[0][0]<0&&o[0]+e[0]-u[0]*s[0][1]>=0&&o[1]-u[1]*s[1][0]<0&&o[1]+e[1]-u[1]*s[1][1]>=0},mcsOverflow:n.expr[":"].mcsOverflow||function(i){var r=n(i).data(t);if(r)return r.overflowed[0]||r.overflowed[1]}})})})});toBeVisitedTabsArr=[];$(function(){$.fn.scrollView=function(){var n=$("#site-header").height(),t=$(".site-header").height(),i=Math.max(n===undefined?0:n,t===undefined?0:t);return this.each(function(){$("html, body").animate({scrollTop:$(this).offset().top-i},375)})};$(".password").togglePassword();var n=$(".toggle-trigger");toBeVisitedTabsArr=n.map(function(){return $(this).prop("id")});toBeVisitedTabsArr=toBeVisitedTabsArr.toArray();checkifIsToUpdateSubmitButton(n[0]);n.on("click",function(){checkifIsToUpdateSubmitButton($(this))});$("#credentials-modal-trigger").click(function(){$("#credentials-modal").addClass("in")});$("form").on("submit",function(n){var t=!0,i=$(".toggle-item.isRequired"),r=i.length,u=r,f=1e3,e;return i.each(function(n,t){var i=$(t),r=i.find(".inline-radio-wrapper.positive"),s=r.find("input").is(":checked"),o=r.find(".custom-radio");s?controlRequiredElementsVisibility(i,o,!1):(n<f&&(f=n,e=i),u--,controlRequiredElementsVisibility(i,o,!0))}),t=u===r,t||(e.scrollView(),n.preventDefault()),t})});$(function(){$(".social-list .icn").click(function(){var n=$(this).attr("provider");$(".form-"+n).submit()})}),function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):n.Cropper=t()}(this,function(){"use strict";function n(n){return typeof n=="number"&&!br(n)}function ni(n){return typeof n=="undefined"}function w(n){return(typeof n=="undefined"?"undefined":yr(n))==="object"&&n!==null}function k(n){if(!w(n))return!1;try{var t=n.constructor,i=t.prototype;return t&&i&&kr.call(i,"isPrototypeOf")}catch(r){return!1}}function e(n){return typeof n=="function"}function r(t,i){if(t&&e(i))if(Array.isArray(t)||n(t.length)){for(var u=t.length,r=void 0,r=0;r<u;r+=1)if(i.call(t,t[r],r,t)===!1)break}else w(t)&&Object.keys(t).forEach(function(n){i.call(t,t[n],n,t)});return t}function d(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e11;return dr.test(n)?Math.round(n*t)/t:n}function a(t,i){var u=t.style;r(i,function(t,i){gr.test(i)&&n(t)&&(t+="px");u[i]=t})}function nu(n,t){return n.classList?n.classList.contains(t):n.className.indexOf(t)>-1}function u(t,i){if(i){if(n(t.length)){r(t,function(n){u(n,i)});return}if(t.classList){t.classList.add(i);return}var f=t.className.trim();f?f.indexOf(i)<0&&(t.className=f+" "+i):t.className=i}}function c(t,i){if(i){if(n(t.length)){r(t,function(n){c(n,i)});return}if(t.classList){t.classList.remove(i);return}t.className.indexOf(i)>=0&&(t.className=t.className.replace(i,""))}}function g(t,i,f){if(i){if(n(t.length)){r(t,function(n){g(n,i,f)});return}f?u(t,i):c(t,i)}}function ti(n){return n.replace(tu,"$1-$2").toLowerCase()}function ot(n,t){return w(n[t])?n[t]:n.dataset?n.dataset[t]:n.getAttribute("data-"+ti(t))}function nt(n,t,i){w(i)?n[t]=i:n.dataset?n.dataset[t]=i:n.setAttribute("data-"+ti(t),i)}function nr(n,t){if(w(n[t]))try{delete n[t]}catch(i){n[t]=undefined}else if(n.dataset)try{delete n.dataset[t]}catch(i){n.dataset[t]=undefined}else n.removeAttribute("data-"+ti(t))}function s(n,t,i){var u=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},r=i;t.trim().split(tr).forEach(function(t){if(!ir){var f=n.listeners;f&&f[t]&&f[t][i]&&(r=f[t][i],delete f[t][i],Object.keys(f[t]).length===0&&delete f[t],Object.keys(f).length===0&&delete n.listeners)}n.removeEventListener(t,r,u)})}function o(n,t,i){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},u=i;t.trim().split(tr).forEach(function(t){if(r.once&&!ir){var e=n.listeners,f=e===undefined?{}:e;u=function(){for(var o=arguments.length,s=Array(o),e=0;e<o;e++)s[e]=arguments[e];delete f[t][i];n.removeEventListener(t,u,r);i.apply(n,s)};f[t]||(f[t]={});f[t][i]&&n.removeEventListener(t,f[t][i],r);f[t][i]=u;n.listeners=f}n.addEventListener(t,u,r)})}function tt(n,t,i){var r=void 0;return e(Event)&&e(CustomEvent)?r=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,i)),n.dispatchEvent(r)}function rr(n){var t=n.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}function ur(n){var t=n.match(iu);return t&&(t[1]!==ii.protocol||t[2]!==ii.hostname||t[3]!==ii.port)}function fr(n){var t="timestamp="+(new Date).getTime();return n+(n.indexOf("?")===-1?"?":"&")+t}function st(t){var u=t.rotate,f=t.scaleX,e=t.scaleY,o=t.translateX,s=t.translateY,i=[],r;return n(o)&&o!==0&&i.push("translateX("+o+"px)"),n(s)&&s!==0&&i.push("translateY("+s+"px)"),n(u)&&u!==0&&i.push("rotate("+u+"deg)"),n(f)&&f!==1&&i.push("scaleX("+f+")"),n(e)&&e!==1&&i.push("scaleY("+e+")"),r=i.length?i.join(" "):"none",{WebkitTransform:r,msTransform:r,transform:r}}function ru(n){var u=t({},n),i=[];return r(n,function(n,t){delete u[t];r(u,function(t){var r=Math.abs(n.startX-t.startX),u=Math.abs(n.startY-t.startY),f=Math.abs(n.endX-t.endX),e=Math.abs(n.endY-t.endY),o=Math.sqrt(r*r+u*u),s=Math.sqrt(f*f+e*e),h=(s-o)/o;i.push(h)})}),i.sort(function(n,t){return Math.abs(n)<Math.abs(t)}),i[0]}function lt(n,i){var r=n.pageX,u=n.pageY,f={endX:r,endY:u};return i?f:t({startX:r,startY:u},f)}function uu(n){var t=0,i=0,u=0;return r(n,function(n){var r=n.startX,f=n.startY;t+=r;i+=f;u+=1}),t/=u,i/=u,{pageX:t,pageY:i}}function v(n){var r=n.aspectRatio,i=n.height,t=n.width,e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"contain",u=function(n){return fu(n)&&n>0},f;return u(t)&&u(i)?(f=i*r,e==="contain"&&f>t||e==="cover"&&f<t?i=t/r:t=i*r):u(t)?i=t/r:u(i)&&(t=i*r),{width:t,height:i}}function eu(n){var i=n.width,r=n.height,t=n.degree;if(t=Math.abs(t)%180,t===90)return{width:r,height:i};var u=t%90*Math.PI/180,f=Math.sin(u),e=Math.cos(u),o=i*e+r*f,s=i*f+r*e;return t>90?{width:s,height:o}:{width:o,height:s}}function ou(n,t,i,r){var s=t.aspectRatio,lt=t.naturalWidth,at=t.naturalHeight,h=t.rotate,vt=h===undefined?0:h,c=t.scaleX,yt=c===undefined?1:c,l=t.scaleY,pt=l===undefined?1:l,a=i.aspectRatio,wt=i.naturalWidth,bt=i.naturalHeight,y=r.fillColor,kt=y===undefined?"transparent":y,p=r.imageSmoothingEnabled,dt=p===undefined?!0:p,w=r.imageSmoothingQuality,gt=w===undefined?"low":w,b=r.maxWidth,k=b===undefined?Infinity:b,g=r.maxHeight,nt=g===undefined?Infinity:g,tt=r.minWidth,it=tt===undefined?0:tt,rt=r.minHeight,ut=rt===undefined?0:rt,f=document.createElement("canvas"),u=f.getContext("2d"),ft=v({aspectRatio:a,width:k,height:nt}),et=v({aspectRatio:a,width:it,height:ut},"cover"),e=Math.min(ft.width,Math.max(et.width,wt)),o=Math.min(ft.height,Math.max(et.height,bt)),ot=v({aspectRatio:s,width:k,height:nt}),st=v({aspectRatio:s,width:it,height:ut},"cover"),ht=Math.min(ot.width,Math.max(st.width,lt)),ct=Math.min(ot.height,Math.max(st.height,at)),ni=[-ht/2,-ct/2,ht,ct];return f.width=d(e),f.height=d(o),u.fillStyle=kt,u.fillRect(0,0,e,o),u.save(),u.translate(e/2,o/2),u.rotate(vt*Math.PI/180),u.scale(yt,pt),u.imageSmoothingEnabled=dt,u.imageSmoothingQuality=gt,u.drawImage.apply(u,[n].concat(gi(ni.map(function(n){return Math.floor(d(n))})))),u.restore(),f}function su(n,t,i){var u="",r=void 0;for(i+=t,r=t;r<i;r+=1)u+=er(n.getUint8(r));return u}function cu(n){var f=n.replace(hu,""),t=atob(f),i=new ArrayBuffer(t.length),u=new Uint8Array(i);return r(u,function(n,i){u[i]=t.charCodeAt(i)}),i}function lu(n,t){var u=new Uint8Array(n),i="";return r(u,function(n){i+=er(n)}),"data:"+t+";base64,"+btoa(i)}function au(n){var t=new DataView(n),l=void 0,i=void 0,e=void 0,o=void 0,a,r,v,u,h,c;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(a=t.byteLength,r=2;r<a;){if(t.getUint8(r)===255&&t.getUint8(r+1)===225){e=r;break}r+=1}if(e&&(v=e+4,u=e+10,su(t,v,4)==="Exif"&&(h=t.getUint16(u),i=h===18761,(i||h===19789)&&t.getUint16(u+2,i)===42&&(c=t.getUint32(u+4,i),c>=8&&(o=u+c)))),o)for(var y=t.getUint16(o,i),f=void 0,s=void 0,s=0;s<y;s+=1)if(f=o+s*12+2,t.getUint16(f,i)===274){f+=8;l=t.getUint16(f,i);t.setUint16(f,1,i);break}return l}function vu(n){var t=0,i=1,r=1;switch(n){case 2:i=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90;r=-1;break;case 6:t=90;break;case 7:t=90;i=-1;break;case 8:t=-90}return{rotate:t,scaleX:i,scaleY:r}}var ri=typeof window!="undefined",h=ri?window:{},i="cropper",at="all",ui="crop",fi="move",ei="zoom",y="e",p="w",b="s",l="n",it="ne",rt="nw",ut="se",ft="sw",vt=i+"-crop",oi=i+"-disabled",f=i+"-hidden",si=i+"-hide",sr=i+"-invisible",ht=i+"-modal",yt=i+"-move",et="action",ct="preview",pt="crop",hi="move",ci="none",wt="crop",bt="cropend",kt="cropmove",dt="cropstart",li="dblclick",ai="load",vi=h.PointerEvent?"pointerdown":"touchstart mousedown",yi=h.PointerEvent?"pointermove":"touchmove mousemove",pi=h.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",wi="ready",bi="resize",ki="wheel mousewheel DOMMouseScroll",gt="zoom",hr=/^(?:e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,cr=/^data:/,lr=/^data:image\/jpeg;base64,/,ar=/^(?:img|canvas)$/i,di={viewMode:0,dragMode:pt,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},vr='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"><\/div><\/div><div class="cropper-drag-box"><\/div><div class="cropper-crop-box"><span class="cropper-view-box"><\/span><span class="cropper-dashed dashed-h"><\/span><span class="cropper-dashed dashed-v"><\/span><span class="cropper-center"><\/span><span class="cropper-face"><\/span><span class="cropper-line line-e" data-action="e"><\/span><span class="cropper-line line-n" data-action="n"><\/span><span class="cropper-line line-w" data-action="w"><\/span><span class="cropper-line line-s" data-action="s"><\/span><span class="cropper-point point-e" data-action="e"><\/span><span class="cropper-point point-n" data-action="n"><\/span><span class="cropper-point point-w" data-action="w"><\/span><span class="cropper-point point-s" data-action="s"><\/span><span class="cropper-point point-ne" data-action="ne"><\/span><span class="cropper-point point-nw" data-action="nw"><\/span><span class="cropper-point point-sw" data-action="sw"><\/span><span class="cropper-point point-se" data-action="se"><\/span><\/div><\/div>',yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pr=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},wr=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),gi=function(n){if(Array.isArray(n)){for(var t=0,i=Array(n.length);t<n.length;t++)i[t]=n[t];return i}return Array.from(n)},br=Number.isNaN||h.isNaN,kr=Object.prototype.hasOwnProperty,t=Object.assign||function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];return w(n)&&r.length>0&&r.forEach(function(t){w(t)&&Object.keys(t).forEach(function(i){n[i]=t[i]})}),n},dr=/\.\d*(?:0|9){12}\d*$/i,gr=/^(?:width|height|left|top|marginLeft|marginTop)$/,tu=/([a-z\d])([A-Z])/g,tr=/\s\s*/,ir=function(){var n=!1;if(ri){var t=!1,i=function(){},r=Object.defineProperty({},"once",{get:function(){return n=!0,t},set:function(n){t=n}});h.addEventListener("test",i,r);h.removeEventListener("test",i,r)}return n}(),ii=h.location,iu=/^(https?:)\/\/([^:/?#]+):?(\d*)/i,fu=Number.isFinite||h.isFinite,er=String.fromCharCode,hu=/^data:.*,/,yu={render:function(){this.initContainer();this.initCanvas();this.initCropBox();this.renderCanvas();this.cropped&&this.renderCropBox()},initContainer:function(){var i=this.element,r=this.options,e=this.container,t=this.cropper,n;u(t,f);c(i,f);n={width:Math.max(e.offsetWidth,Number(r.minContainerWidth)||200),height:Math.max(e.offsetHeight,Number(r.minContainerHeight)||100)};this.containerData=n;a(t,{width:n.width,height:n.height});u(i,f);c(t,f)},initCanvas:function(){var n=this.containerData,r=this.imageData,f=this.options.viewMode,s=Math.abs(r.rotate)%180==90,h=s?r.naturalHeight:r.naturalWidth,c=s?r.naturalWidth:r.naturalHeight,u=h/c,e=n.width,o=n.height,i;n.height*u>n.width?f===3?e=n.height*u:o=n.width/u:f===3?o=n.width/u:e=n.height*u;i={aspectRatio:u,naturalWidth:h,naturalHeight:c,width:e,height:o};i.left=(n.width-e)/2;i.top=(n.height-o)/2;i.oldLeft=i.left;i.oldTop=i.top;this.canvasData=i;this.limited=f===1||f===2;this.limitCanvas(!0,!0);this.initialImageData=t({},r);this.initialCanvasData=t({},i)},limitCanvas:function(n,t){var a=this.options,e=this.containerData,i=this.canvasData,f=this.cropBoxData,s=a.viewMode,o=i.aspectRatio,l=this.cropped&&f,r,u,y,h,c;n&&(r=Number(a.minCanvasWidth)||0,u=Number(a.minCanvasHeight)||0,s>1?(r=Math.max(r,e.width),u=Math.max(u,e.height),s===3&&(u*o>r?r=u*o:u=r/o)):s>0&&(r?r=Math.max(r,l?f.width:0):u?u=Math.max(u,l?f.height:0):l&&(r=f.width,u=f.height,u*o>r?r=u*o:u=r/o)),y=v({aspectRatio:o,width:r,height:u}),r=y.width,u=y.height,i.minWidth=r,i.minHeight=u,i.maxWidth=Infinity,i.maxHeight=Infinity);t&&(s?(h=e.width-i.width,c=e.height-i.height,i.minLeft=Math.min(0,h),i.minTop=Math.min(0,c),i.maxLeft=Math.max(0,h),i.maxTop=Math.max(0,c),l&&this.limited&&(i.minLeft=Math.min(f.left,f.left+(f.width-i.width)),i.minTop=Math.min(f.top,f.top+(f.height-i.height)),i.maxLeft=f.left,i.maxTop=f.top,s===2&&(i.width>=e.width&&(i.minLeft=Math.min(0,h),i.maxLeft=Math.max(0,h)),i.height>=e.height&&(i.minTop=Math.min(0,c),i.maxTop=Math.max(0,c))))):(i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=e.width,i.maxTop=e.height))},renderCanvas:function(n,i){var r=this.canvasData,u=this.imageData;if(i){var o=eu({width:u.naturalWidth*Math.abs(u.scaleX||1),height:u.naturalHeight*Math.abs(u.scaleY||1),degree:u.rotate||0}),f=o.width,e=o.height,s=r.width*(f/r.naturalWidth),h=r.height*(e/r.naturalHeight);r.left-=(s-r.width)/2;r.top-=(h-r.height)/2;r.width=s;r.height=h;r.aspectRatio=f/e;r.naturalWidth=f;r.naturalHeight=e;this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft);(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop);r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth);r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight);this.limitCanvas(!1,!0);r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft);r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop);r.oldLeft=r.left;r.oldTop=r.top;a(this.canvas,t({width:r.width,height:r.height},st({translateX:r.left,translateY:r.top})));this.renderImage(n);this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(n){var r=this.canvasData,i=this.imageData,u=i.naturalWidth*(r.width/r.naturalWidth),f=i.naturalHeight*(r.height/r.naturalHeight);t(i,{width:u,height:f,left:(r.width-u)/2,top:(r.height-f)/2});a(this.image,t({width:i.width,height:i.height},st(t({translateX:i.left,translateY:i.top},i))));n&&this.output()},initCropBox:function(){var u=this.options,i=this.canvasData,r=u.aspectRatio,f=Number(u.autoCropArea)||.8,n={width:i.width,height:i.height};r&&(i.height*r>i.width?n.height=n.width/r:n.width=n.height*r);this.cropBoxData=n;this.limitCropBox(!0,!0);n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth);n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight);n.width=Math.max(n.minWidth,n.width*f);n.height=Math.max(n.minHeight,n.height*f);n.left=i.left+(i.width-n.width)/2;n.top=i.top+(i.height-n.height)/2;n.oldLeft=n.left;n.oldTop=n.top;this.initialCropBoxData=t({},n)},limitCropBox:function(n,t){var c=this.options,r=this.containerData,o=this.canvasData,i=this.cropBoxData,l=this.limited,e=c.aspectRatio;if(n){var u=Number(c.minCropBoxWidth)||0,f=Number(c.minCropBoxHeight)||0,s=Math.min(r.width,l?o.width:r.width),h=Math.min(r.height,l?o.height:r.height);u=Math.min(u,r.width);f=Math.min(f,r.height);e&&(u&&f?f*e>u?f=u/e:u=f*e:u?f=u/e:f&&(u=f*e),h*e>s?h=s/e:s=h*e);i.minWidth=Math.min(u,s);i.minHeight=Math.min(f,h);i.maxWidth=s;i.maxHeight=h}t&&(l?(i.minLeft=Math.max(0,o.left),i.minTop=Math.max(0,o.top),i.maxLeft=Math.min(r.width,o.left+o.width)-i.width,i.maxTop=Math.min(r.height,o.top+o.height)-i.height):(i.minLeft=0,i.minTop=0,i.maxLeft=r.width-i.width,i.maxTop=r.height-i.height))},renderCropBox:function(){var i=this.options,r=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft);(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop);n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth);n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight);this.limitCropBox(!1,!0);n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft);n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop);n.oldLeft=n.left;n.oldTop=n.top;i.movable&&i.cropBoxMovable&&nt(this.face,et,n.width>=r.width&&n.height>=r.height?fi:at);a(this.cropBox,t({width:n.width,height:n.height},st({translateX:n.left,translateY:n.top})));this.cropped&&this.limited&&this.limitCanvas(!0,!0);this.disabled||this.output()},output:function(){this.preview();tt(this.element,wt,this.getData())}},pu={initPreview:function(){var t=this.crossOrigin,n=this.options.preview,f=t?this.crossOriginUrl:this.url,u=document.createElement("img"),i;(t&&(u.crossOrigin=t),u.src=f,this.viewBox.appendChild(u),this.viewBoxImage=u,n)&&(i=n,typeof n=="string"?i=this.element.ownerDocument.querySelectorAll(n):n.querySelector&&(i=[n]),this.previews=i,r(i,function(n){var i=document.createElement("img");nt(n,ct,{width:n.offsetWidth,height:n.offsetHeight,html:n.innerHTML});t&&(i.crossOrigin=t);i.src=f;i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"';n.innerHTML="";n.appendChild(i)}))},resetPreview:function(){r(this.previews,function(n){var t=ot(n,ct);a(n,{width:t.width,height:t.height});n.innerHTML=t.html;nr(n,ct)})},preview:function(){var n=this.imageData,e=this.canvasData,i=this.cropBoxData,u=i.width,f=i.height,o=n.width,s=n.height,h=i.left-e.left-n.left,c=i.top-e.top-n.top;this.cropped&&!this.disabled&&(a(this.viewBoxImage,t({width:o,height:s},st(t({translateX:-h,translateY:-c},n)))),r(this.previews,function(i){var v=ot(i,ct),y=v.width,e=v.height,p=y,l=e,r=1;u&&(r=y/u,l=f*r);f&&l>e&&(r=e/f,p=u*r,l=e);a(i,{width:p,height:l});a(i.getElementsByTagName("img")[0],t({width:o*r,height:s*r},st(t({translateX:-h*r,translateY:-c*r},n))))}))}},wu={bind:function(){var t=this.element,n=this.options,i=this.cropper;e(n.cropstart)&&o(t,dt,n.cropstart);e(n.cropmove)&&o(t,kt,n.cropmove);e(n.cropend)&&o(t,bt,n.cropend);e(n.crop)&&o(t,wt,n.crop);e(n.zoom)&&o(t,gt,n.zoom);o(i,vi,this.onCropStart=this.cropStart.bind(this));n.zoomable&&n.zoomOnWheel&&o(i,ki,this.onWheel=this.wheel.bind(this));n.toggleDragModeOnDblclick&&o(i,li,this.onDblclick=this.dblclick.bind(this));o(t.ownerDocument,yi,this.onCropMove=this.cropMove.bind(this));o(t.ownerDocument,pi,this.onCropEnd=this.cropEnd.bind(this));n.responsive&&o(window,bi,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,n=this.options,i=this.cropper;e(n.cropstart)&&s(t,dt,n.cropstart);e(n.cropmove)&&s(t,kt,n.cropmove);e(n.cropend)&&s(t,bt,n.cropend);e(n.crop)&&s(t,wt,n.crop);e(n.zoom)&&s(t,gt,n.zoom);s(i,vi,this.onCropStart);n.zoomable&&n.zoomOnWheel&&s(i,ki,this.onWheel);n.toggleDragModeOnDblclick&&s(i,li,this.onDblclick);s(t.ownerDocument,yi,this.onCropMove);s(t.ownerDocument,pi,this.onCropEnd);n.responsive&&s(window,bi,this.onResize)}},bu={resize:function(){var n=this.options,e=this.container,t=this.containerData,o=Number(n.minContainerWidth)||200,s=Number(n.minContainerHeight)||100,i,u,f;this.disabled||t.width<=o||t.height<=s||(i=e.offsetWidth/t.width,(i!==1||e.offsetHeight!==t.height)&&(u=void 0,f=void 0,n.restore&&(u=this.getCanvasData(),f=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(r(u,function(n,t){u[t]=n*i})),this.setCropBoxData(r(f,function(n,t){f[t]=n*i})))))},dblclick:function(){this.disabled||this.options.dragMode===ci||this.setDragMode(nu(this.dragBox,vt)?hi:pt)},wheel:function(n){var i=this,r=Number(this.options.wheelZoomRatio)||.1,t=1;this.disabled||(n.preventDefault(),this.wheeling)||(this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50),n.deltaY?t=n.deltaY>0?1:-1:n.wheelDelta?t=-n.wheelDelta/120:n.detail&&(t=n.detail>0?1:-1),this.zoom(-t*r,n))},cropStart:function(n){if(!this.disabled){var f=this.options,i=this.pointers,t=void 0;(n.changedTouches?r(n.changedTouches,function(n){i[n.identifier]=lt(n)}):i[n.pointerId||0]=lt(n),t=Object.keys(i).length>1&&f.zoomable&&f.zoomOnTouch?ei:ot(n.target,et),hr.test(t))&&tt(this.element,dt,{originalEvent:n,action:t})!==!1&&(n.preventDefault(),this.action=t,this.cropping=!1,t===ui&&(this.cropping=!0,u(this.dragBox,ht)))}},cropMove:function(n){var u=this.action,i;!this.disabled&&u&&(i=this.pointers,n.preventDefault(),tt(this.element,kt,{originalEvent:n,action:u})!==!1)&&(n.changedTouches?r(n.changedTouches,function(n){t(i[n.identifier],lt(n,!0))}):t(i[n.pointerId||0],lt(n,!0)),this.change(n))},cropEnd:function(n){if(!this.disabled){var i=this.action,t=this.pointers;(n.changedTouches?r(n.changedTouches,function(n){delete t[n.identifier]}):delete t[n.pointerId||0],i)&&(n.preventDefault(),Object.keys(t).length||(this.action=""),this.cropping&&(this.cropping=!1,g(this.dragBox,ht,this.cropped&&this.options.modal)),tt(this.element,bt,{originalEvent:n,action:i}))}}},ku={change:function(n){var vt=this.options,ot=this.canvasData,ht=this.containerData,k=this.cropBoxData,ct=this.pointers,h=this.action,e=vt.aspectRatio,s=k.left,o=k.top,i=k.width,u=k.height,et=s+i,g=o+u,nt=0,w=0,tt=ht.width,d=ht.height,a=!0,lt=void 0;!e&&n.shiftKey&&(e=i&&u?i/u:1);this.limited&&(nt=k.minLeft,w=k.minTop,tt=nt+Math.min(ht.width,ot.width,ot.left+ot.width),d=w+Math.min(ht.height,ot.height,ot.top+ot.height));var st=ct[Object.keys(ct)[0]],t={x:st.endX-st.startX,y:st.endY-st.startY},v=function(n){switch(n){case y:et+t.x>tt&&(t.x=tt-et);break;case p:s+t.x<nt&&(t.x=nt-s);break;case l:o+t.y<w&&(t.y=w-o);break;case b:g+t.y>d&&(t.y=d-g)}};switch(h){case at:s+=t.x;o+=t.y;break;case y:if(t.x>=0&&(et>=tt||e&&(o<=w||g>=d))){a=!1;break}v(y);i+=t.x;e&&(u=i/e,o-=t.x/e/2);i<0&&(h=p,i=0);break;case l:if(t.y<=0&&(o<=w||e&&(s<=nt||et>=tt))){a=!1;break}v(l);u-=t.y;o+=t.y;e&&(i=u*e,s+=t.y*e/2);u<0&&(h=b,u=0);break;case p:if(t.x<=0&&(s<=nt||e&&(o<=w||g>=d))){a=!1;break}v(p);i-=t.x;s+=t.x;e&&(u=i/e,o+=t.x/e/2);i<0&&(h=y,i=0);break;case b:if(t.y>=0&&(g>=d||e&&(s<=nt||et>=tt))){a=!1;break}v(b);u+=t.y;e&&(i=u*e,s-=t.y*e/2);u<0&&(h=l,u=0);break;case it:if(e){if(t.y<=0&&(o<=w||et>=tt)){a=!1;break}v(l);u-=t.y;o+=t.y;i=u*e}else v(l),v(y),t.x>=0?et<tt?i+=t.x:t.y<=0&&o<=w&&(a=!1):i+=t.x,t.y<=0?o>w&&(u-=t.y,o+=t.y):(u-=t.y,o+=t.y);i<0&&u<0?(h=ft,u=0,i=0):i<0?(h=rt,i=0):u<0&&(h=ut,u=0);break;case rt:if(e){if(t.y<=0&&(o<=w||s<=nt)){a=!1;break}v(l);u-=t.y;o+=t.y;i=u*e;s+=t.y*e}else v(l),v(p),t.x<=0?s>nt?(i-=t.x,s+=t.x):t.y<=0&&o<=w&&(a=!1):(i-=t.x,s+=t.x),t.y<=0?o>w&&(u-=t.y,o+=t.y):(u-=t.y,o+=t.y);i<0&&u<0?(h=ut,u=0,i=0):i<0?(h=it,i=0):u<0&&(h=ft,u=0);break;case ft:if(e){if(t.x<=0&&(s<=nt||g>=d)){a=!1;break}v(p);i-=t.x;s+=t.x;u=i/e}else v(b),v(p),t.x<=0?s>nt?(i-=t.x,s+=t.x):t.y>=0&&g>=d&&(a=!1):(i-=t.x,s+=t.x),t.y>=0?g<d&&(u+=t.y):u+=t.y;i<0&&u<0?(h=it,u=0,i=0):i<0?(h=ut,i=0):u<0&&(h=rt,u=0);break;case ut:if(e){if(t.x>=0&&(et>=tt||g>=d)){a=!1;break}v(y);i+=t.x;u=i/e}else v(b),v(y),t.x>=0?et<tt?i+=t.x:t.y>=0&&g>=d&&(a=!1):i+=t.x,t.y>=0?g<d&&(u+=t.y):u+=t.y;i<0&&u<0?(h=rt,u=0,i=0):i<0?(h=ft,i=0):u<0&&(h=it,u=0);break;case fi:this.move(t.x,t.y);a=!1;break;case ei:this.zoom(ru(ct),n);a=!1;break;case ui:if(!t.x||!t.y){a=!1;break}lt=rr(this.cropper);s=st.startX-lt.left;o=st.startY-lt.top;i=k.minWidth;u=k.minHeight;t.x>0?h=t.y>0?ut:it:t.x<0&&(s-=i,h=t.y>0?ft:rt);t.y<0&&(o-=u);this.cropped||(c(this.cropBox,f),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}a&&(k.width=i,k.height=u,k.left=s,k.top=o,this.action=h,this.renderCropBox());r(ct,function(n){n.startX=n.endX;n.startY=n.endY})}},du={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&u(this.dragBox,ht),c(this.cropBox,f),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=t({},this.initialImageData),this.canvasData=t({},this.initialCanvasData),this.cropBoxData=t({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(t(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),c(this.dragBox,ht),u(this.cropBox,f)),this},replace:function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return!this.disabled&&n&&(this.isImg&&(this.element.src=n),t?(this.url=n,this.image.src=n,this.ready&&(this.viewBoxImage.src=n,r(this.previews,function(t){t.getElementsByTagName("img")[0].src=n}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(n))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,c(this.cropper,oi)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,u(this.cropper,oi)),this},destroy:function(){var n=this.element;return ot(n,i)?(this.isImg&&this.replaced&&(n.src=this.originalUrl),this.uncreate(),nr(n,i),this):this},move:function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:n,i=this.canvasData,r=i.left,u=i.top;return this.moveTo(ni(n)?n:r+Number(n),ni(t)?t:u+Number(t))},moveTo:function(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t,u=this.canvasData,r=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.movable&&(n(t)&&(u.left=t,r=!0),n(i)&&(u.top=i,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(n,t){var i=this.canvasData;return n=Number(n),n=n<0?1/(1-n):1+n,this.zoomTo(i.width*n/i.naturalWidth,null,t)},zoomTo:function(t,i,r){var v=this.options,u=this.canvasData,f=u.width,o=u.height,h=u.naturalWidth,y=u.naturalHeight,e,s;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&v.zoomable){if(e=h*t,s=y*t,tt(this.element,gt,{originalEvent:r,oldRatio:f/h,ratio:e/h})===!1)return this;if(r){var c=this.pointers,l=rr(this.cropper),a=c&&Object.keys(c).length?uu(c):{pageX:r.pageX,pageY:r.pageY};u.left-=(e-f)*((a.pageX-l.left-u.left)/f);u.top-=(s-o)*((a.pageY-l.top-u.top)/o)}else k(i)&&n(i.x)&&n(i.y)?(u.left-=(e-f)*((i.x-u.left)/f),u.top-=(s-o)*((i.y-u.top)/o)):(u.left-=(e-f)/2,u.top-=(s-o)/2);u.width=e;u.height=s;this.renderCanvas(!0)}return this},rotate:function(n){return this.rotateTo((this.imageData.rotate||0)+Number(n))},rotateTo:function(t){return t=Number(t),n(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var i=this.imageData.scaleY;return this.scale(t,n(i)?i:1)},scaleY:function(t){var i=this.imageData.scaleX;return this.scale(n(i)?i:1,t)},scale:function(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t,u=this.imageData,r=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&(n(t)&&(u.scaleX=t,r=!0),n(i)&&(u.scaleY=i,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,u=this.options,t=this.imageData,f=this.canvasData,i=this.cropBoxData,n=void 0,e;return this.ready&&this.cropped?(n={x:i.left-f.left,y:i.top-f.top,width:i.width,height:i.height},e=t.width/t.naturalWidth,r(n,function(t,i){t/=e;n[i]=o?Math.round(t):t})):n={x:0,y:0,width:0,height:0},u.rotatable&&(n.rotate=t.rotate||0),u.scalable&&(n.scaleX=t.scaleX||1,n.scaleY=t.scaleY||1),n},setData:function(t){var e=this.options,i=this.imageData,o=this.canvasData,r={},u,f;return this.ready&&!this.disabled&&k(t)&&(u=!1,e.rotatable&&n(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,u=!0),e.scalable&&(n(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,u=!0),n(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,u=!0)),u&&this.renderCanvas(!0,!0),f=i.width/i.naturalWidth,n(t.x)&&(r.left=t.x*f+o.left),n(t.y)&&(r.top=t.y*f+o.top),n(t.width)&&(r.width=t.width*f),n(t.height)&&(r.height=t.height*f),this.setCropBoxData(r)),this},getContainerData:function(){return this.ready?t({},this.containerData):{}},getImageData:function(){return this.sized?t({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,n={};return this.ready&&r(["left","top","width","height","naturalWidth","naturalHeight"],function(i){n[i]=t[i]}),n},setCanvasData:function(t){var i=this.canvasData,r=i.aspectRatio;return this.ready&&!this.disabled&&k(t)&&(n(t.left)&&(i.left=t.left),n(t.top)&&(i.top=t.top),n(t.width)?(i.width=t.width,i.height=t.width/r):n(t.height)&&(i.height=t.height,i.width=t.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var n=this.cropBoxData,t=void 0;return this.ready&&this.cropped&&(t={left:n.left,top:n.top,width:n.width,height:n.height}),t||{}},setCropBoxData:function(t){var i=this.cropBoxData,r=this.options.aspectRatio,u=void 0,f=void 0;return this.ready&&this.cropped&&!this.disabled&&k(t)&&(n(t.left)&&(i.left=t.left),n(t.top)&&(i.top=t.top),n(t.width)&&t.width!==i.width&&(u=!0,i.width=t.width),n(t.height)&&t.height!==i.height&&(f=!0,i.height=t.height),r&&(u?i.height=i.width/r:f&&(i.width=i.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},it,r,l,e,ut,p;if(!this.ready||!window.HTMLCanvasElement)return null;if(it=this.canvasData,r=ou(this.image,this.imageData,it,n),!this.cropped)return r;var w=this.getData(),ft=w.x,et=w.y,u=w.width,s=w.height,f=r.width/Math.floor(it.naturalWidth);f!==1&&(ft*=f,et*=f,u*=f,s*=f);var rt=u/s,ot=v({aspectRatio:rt,width:n.maxWidth||Infinity,height:n.maxHeight||Infinity}),st=v({aspectRatio:rt,width:n.minWidth||0,height:n.minHeight||0},"cover"),ht=v({aspectRatio:rt,width:n.width||(f!==1?r.width:u),height:n.height||(f!==1?r.height:s)}),c=ht.width,b=ht.height;c=Math.min(ot.width,Math.max(st.width,c));b=Math.min(ot.height,Math.max(st.height,b));l=document.createElement("canvas");e=l.getContext("2d");l.width=d(c);l.height=d(b);e.fillStyle=n.fillColor||"transparent";e.fillRect(0,0,c,b);var ct=n.imageSmoothingEnabled,at=ct===undefined?!0:ct,lt=n.imageSmoothingQuality;e.imageSmoothingEnabled=at;lt&&(e.imageSmoothingQuality=lt);var k=r.width,g=r.height,t=ft,i=et,o=void 0,h=void 0,nt=void 0,tt=void 0,a=void 0,y=void 0;return t<=-u||t>k?(t=0,o=0,nt=0,a=0):t<=0?(nt=-t,t=0,o=Math.min(k,u+t),a=o):t<=k&&(nt=0,o=Math.min(u,k-t),a=o),o<=0||i<=-s||i>g?(i=0,h=0,tt=0,y=0):i<=0?(tt=-i,i=0,h=Math.min(g,s+i),y=h):i<=g&&(tt=0,h=Math.min(s,g-i),y=h),ut=[t,i,o,h],a>0&&y>0&&(p=c/u,ut.push(nt*p,tt*p,a*p,y*p)),e.drawImage.apply(e,[r].concat(gi(ut.map(function(n){return Math.floor(d(n))})))),l},setAspectRatio:function(n){var t=this.options;return this.disabled||ni(n)||(t.aspectRatio=Math.max(0,n)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(n){var r=this.options,u=this.dragBox,f=this.face,t,i;return this.ready&&!this.disabled&&(t=n===pt,i=r.movable&&n===hi,n=t||i?n:ci,r.dragMode=n,nt(u,et,n),g(u,vt,t),g(u,yt,i),r.cropBoxMovable||(nt(f,et,n),g(f,vt,t),g(f,yt,i))),this}},gu=h.Cropper,or=function(){function n(i){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(pr(this,n),!i||!ar.test(i.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=i;this.options=t({},di,k(r)&&r);this.cropped=!1;this.disabled=!1;this.pointers={};this.ready=!1;this.reloading=!1;this.replaced=!1;this.sized=!1;this.sizing=!1;this.init()}return wr(n,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),t=void 0;if(!ot(n,i)){if(nt(n,i,this),r==="img"){if(this.isImg=!0,t=n.getAttribute("src")||"",this.originalUrl=t,!t)return;t=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(t=n.toDataURL());this.load(t)}}},{key:"load",value:function(n){var r=this,u,f,t,i;if(n){if(this.url=n,this.imageData={},u=this.element,f=this.options,!f.checkOrientation||!window.ArrayBuffer){this.clone();return}if(cr.test(n)){lr.test(n)?this.read(cu(n)):this.clone();return}t=new XMLHttpRequest;this.reloading=!0;this.xhr=t;i=function(){r.reloading=!1;r.xhr=null};t.ontimeout=i;t.onabort=i;t.onerror=function(){i();r.clone()};t.onload=function(){i();r.read(t.response)};f.checkCrossOrigin&&ur(n)&&u.crossOrigin&&(n=fr(n));t.open("get",n);t.responseType="arraybuffer";t.withCredentials=u.crossOrigin==="use-credentials";t.send()}}},{key:"read",value:function(n){var r=this.options,i=this.imageData,u=au(n),f=0,e=1,o=1,t;u>1&&(this.url=lu(n,"image/jpeg"),t=vu(u),f=t.rotate,e=t.scaleX,o=t.scaleY);r.rotatable&&(i.rotate=f);r.scalable&&(i.scaleX=e,i.scaleY=o);this.clone()}},{key:"clone",value:function(){var i=this.element,f=this.url,t=void 0,e=void 0,n,r,s;this.options.checkCrossOrigin&&ur(f)&&(t=i.crossOrigin,t?e=f:(t="anonymous",e=fr(f)));this.crossOrigin=t;this.crossOriginUrl=e;n=document.createElement("img");t&&(n.crossOrigin=t);n.src=e||f;r=this.start.bind(this);s=this.stop.bind(this);this.image=n;this.onStart=r;this.onStop=s;this.isImg?i.complete?this.timeout=setTimeout(r,0):o(i,ai,r,{once:!0}):(n.onload=r,n.onerror=s,u(n,si),i.parentNode.insertBefore(n,i.nextSibling))}},{key:"start",value:function(n){var u=this,r=this.isImg?this.element:this.image,f,e,i,o;if(n&&(r.onload=null,r.onerror=null),this.sizing=!0,f=h.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(h.navigator.userAgent),e=function(n,i){t(u.imageData,{naturalWidth:n,naturalHeight:i,aspectRatio:n/i});u.sizing=!1;u.sized=!0;u.build()},r.naturalWidth&&!f){e(r.naturalWidth,r.naturalHeight);return}i=document.createElement("img");o=document.body||document.documentElement;this.sizingImage=i;i.onload=function(){e(i.width,i.height);f||o.removeChild(i)};i.src=r.src;f||(i.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(i))}},{key:"stop",value:function(){var n=this.image;n.onload=null;n.onerror=null;n.parentNode.removeChild(n);this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var s=this.element,n=this.options,l=this.image,a=s.parentNode,v=document.createElement("div");v.innerHTML=vr;var t=v.querySelector("."+i+"-container"),y=t.querySelector("."+i+"-canvas"),p=t.querySelector("."+i+"-drag-box"),r=t.querySelector("."+i+"-crop-box"),h=r.querySelector("."+i+"-face");this.container=a;this.cropper=t;this.canvas=y;this.dragBox=p;this.cropBox=r;this.viewBox=t.querySelector("."+i+"-view-box");this.face=h;y.appendChild(l);u(s,f);a.insertBefore(t,s.nextSibling);this.isImg||c(l,si);this.initPreview();this.bind();n.aspectRatio=Math.max(0,n.aspectRatio)||NaN;n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0;u(r,f);n.guides||u(r.getElementsByClassName(i+"-dashed"),f);n.center||u(r.getElementsByClassName(i+"-center"),f);n.background&&u(t,i+"-bg");n.highlight||u(h,sr);n.cropBoxMovable&&(u(h,yt),nt(h,et,at));n.cropBoxResizable||(u(r.getElementsByClassName(i+"-line"),f),u(r.getElementsByClassName(i+"-point"),f));this.render();this.ready=!0;this.setDragMode(n.dragMode);n.autoCrop&&this.crop();this.setData(n.data);e(n.ready)&&o(s,wi,n.ready,{once:!0});tt(s,wi)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),c(this.element,f))}},{key:"uncreate",value:function(){var n=this.element;this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?this.xhr.abort():this.isImg?n.complete?clearTimeout(this.timeout):s(n,ai,this.onStart):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=gu,n}},{key:"setDefaults",value:function(n){t(di,k(n)&&n)}}]),n}();return t(or.prototype,yu,pu,wu,bu,ku,du),or});!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?n(require("jquery")):n(jQuery)}(function(n,t){function u(){return new Date(Date.UTC.apply(Date,arguments))}function h(){var n=new Date;return u(n.getFullYear(),n.getMonth(),n.getDate())}function c(n){return function(){return this[n].apply(this,arguments)}}var l,a=(l={get:function(n){return this.slice(n)[0]},contains:function(n){for(var i=n&&n.valueOf(),t=0,r=this.length;t<r;t++)if(this[t].valueOf()===i)return t;return-1},remove:function(n){this.splice(n,1)},replace:function(t){t&&(n.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var n=new a;return n.replace(this),n}},function(){var t=[];return t.push.apply(t,arguments),n.extend(t,l),t}),f=function(t,r){n(t).data("datepicker",this);this._process_options(r);this.dates=new a;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=n(t);this.isInput=this.element.is("input");this.inputField=this.isInput?this.element:this.element.find("input");this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn");this.hasInput=this.component&&this.inputField.length;this.component&&0===this.component.length&&(this.component=!1);this.isInline=!this.component&&this.element.is("div");this.picker=n(i.template);this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow);this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(n,t){return parseInt(t)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted);this.setDatesDisabled(this.o.datesDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()},o,v,e,s,y,r,i;f.prototype={constructor:f,_resolveViewName:function(n,i){return 0===n||"days"===n||"month"===n?0:1===n||"months"===n||"year"===n?1:2===n||"years"===n||"decade"===n?2:3===n||"decades"===n||"century"===n?3:4===n||"centuries"===n||"millennium"===n?4:i!==t&&i},_check_template:function(i){try{return i!==t&&""!==i&&((i.match(/[<>]/g)||[]).length<=0||0<n(i).length)}catch(i){return!1}},_process_options:function(t){var f,o,l,e,c;if(this._o=n.extend({},this._o,t),f=this.o=n.extend({},this._o),o=f.language,r[o]||(o=o.split("-")[0],r[o]||(o=s.language)),f.language=o,f.startView=this._resolveViewName(f.startView,0),f.minViewMode=this._resolveViewName(f.minViewMode,0),f.maxViewMode=this._resolveViewName(f.maxViewMode,4),f.startView=Math.min(f.startView,f.maxViewMode),f.startView=Math.max(f.startView,f.minViewMode),!0!==f.multidate&&(f.multidate=Number(f.multidate)||!1,!1!==f.multidate&&(f.multidate=Math.max(0,f.multidate))),f.multidateSeparator=String(f.multidateSeparator),f.weekStart%=7,f.weekEnd=(f.weekStart+6)%7,l=i.parseFormat(f.format),f.startDate!==-1/0&&(f.startDate=f.startDate?f.startDate instanceof Date?this._local_to_utc(this._zero_time(f.startDate)):i.parseDate(f.startDate,l,f.language,f.assumeNearbyYear):-1/0),f.endDate!==1/0&&(f.endDate=f.endDate?f.endDate instanceof Date?this._local_to_utc(this._zero_time(f.endDate)):i.parseDate(f.endDate,l,f.language,f.assumeNearbyYear):1/0),f.daysOfWeekDisabled=f.daysOfWeekDisabled||[],n.isArray(f.daysOfWeekDisabled)||(f.daysOfWeekDisabled=f.daysOfWeekDisabled.split(/[,\s]*/)),f.daysOfWeekDisabled=n.map(f.daysOfWeekDisabled,function(n){return parseInt(n,10)}),f.daysOfWeekHighlighted=f.daysOfWeekHighlighted||[],n.isArray(f.daysOfWeekHighlighted)||(f.daysOfWeekHighlighted=f.daysOfWeekHighlighted.split(/[,\s]*/)),f.daysOfWeekHighlighted=n.map(f.daysOfWeekHighlighted,function(n){return parseInt(n,10)}),f.datesDisabled=f.datesDisabled||[],n.isArray(f.datesDisabled)||(f.datesDisabled=[f.datesDisabled]),f.datesDisabled=n.map(f.datesDisabled,function(n){return i.parseDate(n,l,f.language,f.assumeNearbyYear)}),e=String(f.orientation).toLowerCase().split(/\s+/g),c=f.orientation.toLowerCase(),e=n.grep(e,function(n){return/^auto|left|right|top|bottom$/.test(n)}),f.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===e.length)switch(e[0]){case"top":case"bottom":f.orientation.y=e[0];break;case"left":case"right":f.orientation.x=e[0]}else c=n.grep(e,function(n){return/^left|right$/.test(n)}),f.orientation.x=c[0]||"auto",c=n.grep(e,function(n){return/^top|bottom$/.test(n)}),f.orientation.y=c[0]||"auto";if(f.defaultViewDate){var a=f.defaultViewDate.year||(new Date).getFullYear(),v=f.defaultViewDate.month||0,y=f.defaultViewDate.day||1;f.defaultViewDate=u(a,v,y)}else f.defaultViewDate=h()},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var f,r,u,i=0;i<n.length;i++)f=n[i][0],2===n[i].length?(r=t,u=n[i][1]):3===n[i].length&&(r=n[i][1],u=n[i][2]),f.on(u,r)},_unapplyEvents:function(n){for(var f,r,u,i=0;i<n.length;i++)f=n[i][0],2===n[i].length?(u=t,r=n[i][1]):3===n[i].length&&(u=n[i][1],r=n[i][2]),f.off(r,u)},_buildEvents:function(){var t={keyup:n.proxy(function(t){-1===n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:n.proxy(this.keydown,this),paste:n.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=n.proxy(this.show,this));this._events=this.isInput?[[this.element,t]]:this.component&&this.hasInput?[[this.inputField,t],[this.component,{click:n.proxy(this.show,this)}]]:[[this.element,{click:n.proxy(this.show,this),keydown:n.proxy(this.keydown,this)}]];this._events.push([this.element,"*",{blur:n.proxy(function(n){this._focused_from=n.target},this)}],[this.element,{blur:n.proxy(function(n){this._focused_from=n.target},this)}]);this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":n.proxy(function(n){this.update(n.date)},this)}]);this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{mousedown:n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).length||this.picker.is(n.target)||this.picker.find(n.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,r){var u=r||this.dates.get(-1),f=this._utc_to_local(u);this.element.trigger({type:t,date:f,dates:n.map(this.dates,this._utc_to_local),format:n.proxy(function(n,t){0===arguments.length?(n=this.dates.length-1,t=this.o.format):"string"==typeof n&&(t=n,n=this.dates.length-1);t=t||this.o.format;var r=this.dates.get(n);return i.formatDate(r,t,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&n(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==n.inArray("text/plain",t.originalEvent.clipboardData.types))i=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i);this.update();t.preventDefault()},_utc_to_local:function(n){return n&&new Date(n.getTime()+6e4*n.getTimezoneOffset())},_local_to_utc:function(n){return n&&new Date(n.getTime()-6e4*n.getTimezoneOffset())},_zero_time:function(n){return n&&new Date(n.getFullYear(),n.getMonth(),n.getDate())},_zero_utc_time:function(n){return n&&new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()))},getDates:function(){return n.map(this.dates,this._utc_to_local)},getUTCDates:function(){return n.map(this.dates,function(n){return new Date(n)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var n=this.dates.get(-1);return void 0!==n?new Date(n):null},clearDates:function(){this.inputField&&this.inputField.val("");this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,n.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:c("setDates"),setUTCDate:c("setUTCDates"),remove:c("destroy"),setValue:function(){var n=this.getFormattedDate();return this.inputField.val(n),this},getFormattedDate:function(r){r===t&&(r=this.o.format);var u=this.o.language;return n.map(this.dates,function(n){return i.formatDate(n,r,u)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(n){return this._process_options({startDate:n}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(n){return this._process_options({endDate:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(n){return this._process_options({daysOfWeekDisabled:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(n){return this._process_options({daysOfWeekHighlighted:n}),this.update(),this},setDatesDisabled:function(n){this._process_options({datesDisabled:n});this.update();this.updateNavArrows()},place:function(){var r,y;if(this.isInline)return this;var f=this.picker.outerWidth(),s=this.picker.outerHeight(),e=n(this.o.container),h=e.width(),c="body"===this.o.container?n(document).scrollTop():e.scrollTop(),l=e.offset(),a=[];this.element.parents().each(function(){var t=n(this).css("z-index");"auto"!==t&&0!==t&&a.push(parseInt(t))});var v=Math.max.apply(Math,a)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),p=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),o=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),t=u.left-l.left,i=u.top-l.top;return"body"!==this.o.container&&(i+=c),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(t-=f-o)):u.left<0?(this.picker.addClass("datepicker-orient-left"),t-=u.left-10):h<t+f?(this.picker.addClass("datepicker-orient-right"),t+=o-f):this.picker.addClass("datepicker-orient-left"),r=this.o.orientation.y,("auto"===r&&(r=-c+i-s<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+r),"top"===r?i-=s+parseInt(this.picker.css("padding-top")):i+=p,this.o.rtl)?(y=h-(t+o),this.picker.css({top:i,right:y,zIndex:v})):this.picker.css({top:i,left:t,zIndex:v}),this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var r=this.dates.copy(),t=[],u=!1;return arguments.length?(n.each(arguments,n.proxy(function(n,i){i instanceof Date&&(i=this._local_to_utc(i));t.push(i)},this)),u=!0):(t=(t=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=n.map(t,n.proxy(function(n){return i.parseDate(n,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),t=n.grep(t,n.proxy(function(n){return!this.dateWithinRange(n)||!n},this),!0),this.dates.replace(t),this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate,u?this.setValue():t.length&&String(r)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&r.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var i=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(n,t){return parseInt(t)+1}),t+='<th class="cw">&#160;<\/th>');i<this.o.weekStart+7;)t+='<th class="dow',-1<n.inArray(i,this.o.daysOfWeekDisabled)&&(t+=" disabled"),t+='">'+r[this.o.language].daysShort[i++%7]+"<\/th>";t+="<\/tr>";this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),i="",n=0;n<12;)i+='<span class="month'+(t&&t.getMonth()===n?" focused":"")+'">'+r[this.o.language].monthsShort[n++]+"<\/span>";this.picker.find(".datepicker-months td").html(i)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),u=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<f?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>f)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===u.getFullYear()&&t.getUTCMonth()===u.getMonth()&&t.getUTCDate()===u.getDate()&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),this.dateWithinRange(t)||i.push("disabled"),this.dateIsDisabled(t)&&i.push("disabled","disabled-date"),-1!==n.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==n.inArray(t.valueOf(),this.range)&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,r,u,f,e,o,s,h){var w,b,y,k,d,g,a,v,l,p,c;for(w="",b=this.picker.find(i),y=parseInt(e/u,10)*u,d=parseInt(o/f,10)*f,g=parseInt(s/f,10)*f,k=n.map(this.dates,function(n){return parseInt(n.getUTCFullYear()/f,10)*f}),b.find(".datepicker-switch").text(y+"-"+(y+9*f)),a=y-f,v=-1;v<11;v+=1)l=[r],p=null,-1===v?l.push("old"):10===v&&l.push("new"),-1!==n.inArray(a,k)&&l.push("active"),(a<d||g<a)&&l.push("disabled"),a===this.viewDate.getFullYear()&&l.push("focused"),h!==n.noop&&((c=h(new Date(a,0,1)))===t?c={}:"boolean"==typeof c?c={enabled:c}:"string"==typeof c&&(c={classes:c}),!1===c.enabled&&l.push("disabled"),c.classes&&(l=l.concat(c.classes.split(/\s+/))),c.tooltip&&(p=c.tooltip)),w+='<span class="'+l.join(" ")+'"'+(p?' title="'+p+'"':"")+">"+a+"<\/span>",a+=f;b.find("td").html(w)},fill:function(){var y,e,p=new Date(this.viewDate),o=p.getUTCFullYear(),k=p.getUTCMonth(),a=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,it=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,v=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,rt=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,ut=r[this.o.language].today||r.en.today||"",ft=r[this.o.language].clear||r.en.clear||"",et=r[this.o.language].titleFormat||r.en.titleFormat,f,w,h,s,c,nt,l,tt;if(!isNaN(o)&&!isNaN(k)){for(this.picker.find(".datepicker-days .datepicker-switch").text(i.formatDate(p,et,this.o.language)),this.picker.find("tfoot .today").text(ut).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot .clear").text(ft).toggle(!1!==this.o.clearBtn),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths(),f=u(o,k-1,28),w=i.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth()),f.setUTCDate(w),f.setUTCDate(w-(f.getUTCDay()-this.o.weekStart+7)%7),h=new Date(f),f.getUTCFullYear()<100&&h.setUTCFullYear(f.getUTCFullYear()),h.setUTCDate(h.getUTCDate()+42),h=h.valueOf(),c=[];f.valueOf()<h;){if(f.getUTCDay()===this.o.weekStart&&(c.push("<tr>"),this.o.calendarWeeks)){var d=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),g=new Date(Number(d)+(11-d.getUTCDay())%7*864e5),b=new Date(Number(b=u(g.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),ot=(g-b)/6048e5+1;c.push('<td class="cw">'+ot+"<\/td>")}(s=this.getClassNames(f)).push("day");this.o.beforeShowDay!==n.noop&&((e=this.o.beforeShowDay(this._utc_to_local(f)))===t?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),!1===e.enabled&&s.push("disabled"),e.classes&&(s=s.concat(e.classes.split(/\s+/))),e.tooltip&&(y=e.tooltip));s=n.isFunction(n.uniqueSort)?n.uniqueSort(s):n.unique(s);c.push('<td class="'+s.join(" ")+'"'+(y?' title="'+y+'"':"")+">"+f.getUTCDate()+"<\/td>");y=null;f.getUTCDay()===this.o.weekEnd&&c.push("<\/tr>");f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(c.join(""));nt=r[this.o.language].monthsTitle||r.en.monthsTitle||"Months";l=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?nt:o).end().find("span").removeClass("active");(n.each(this.dates,function(n,t){t.getUTCFullYear()===o&&l.eq(t.getUTCMonth()).addClass("active")}),(o<a||v<o)&&l.addClass("disabled"),o===a&&l.slice(0,it).addClass("disabled"),o===v&&l.slice(rt+1).addClass("disabled"),this.o.beforeShowMonth!==n.noop)&&(tt=this,n.each(l,function(i,r){var f=new Date(o,i,1),u=tt.o.beforeShowMonth(f);u===t?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u});!1!==u.enabled||n(r).hasClass("disabled")||n(r).addClass("disabled");u.classes&&n(r).addClass(u.classes);u.tooltip&&n(r).prop("title",u.tooltip)}));this._fill_yearsView(".datepicker-years","year",10,1,o,a,v,this.o.beforeShowYear);this._fill_yearsView(".datepicker-decades","decade",100,10,o,a,v,this.o.beforeShowDecade);this._fill_yearsView(".datepicker-centuries","century",1e3,100,o,a,v,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),n=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&n<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==1/0&&n>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-1/0&&n<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==1/0&&n>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){var r,c,o,e,f,s,l,a;t.preventDefault();t.stopPropagation();(r=n(t.target)).hasClass("datepicker-switch")&&this.showMode(1);a=r.closest(".prev, .next");0<a.length&&(c=i.modes[this.viewMode].navStep*(a.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,c),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,c),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill());r.hasClass("today")&&!r.hasClass("day")&&(this.showMode(-2),this._setDate(h(),"linked"===this.o.todayBtn?null:"view"));r.hasClass("clear")&&this.clearDates();r.hasClass("disabled")||(r.hasClass("day")&&(o=parseInt(r.text(),10)||1,e=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),r.hasClass("old")&&(0===f?(f=11,e-=1,l=s=!0):(f-=1,s=!0)),r.hasClass("new")&&(11===f?(e+=1,l=s=!(f=0)):(f+=1,s=!0)),this._setDate(u(e,f,o)),l&&this._trigger("changeYear",this.viewDate),s&&this._trigger("changeMonth",this.viewDate)),r.hasClass("month")&&(this.viewDate.setUTCDate(1),o=1,f=r.parent().find("span").index(r),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(f),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(u(e,f,o)),this.showMode()):this.showMode(-1),this.fill()),(r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,f=0,e=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(e),r.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(u(e,f,o))),r.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(u(e,f,o))),r.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(u(e,f,o))),this.showMode(-1),this.fill()));this.picker.is(":visible")&&this._focused_from&&n(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(n){var t=this.dates.contains(n);if(n||this.dates.clear(),-1!==t?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(t):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(n)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(n,t){t&&"date"!==t||this._toggle_multidate(n&&new Date(n));t&&"view"!==t||(this.viewDate=n&&new Date(n));this.fill();this.setValue();t&&"view"===t||this._trigger("changeDate");this.inputField&&this.inputField.change();!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(n,t){var i=new Date(n);return i.setUTCDate(n.getUTCDate()+t),i},moveWeek:function(n,t){return this.moveDay(n,7*t)},moveMonth:function(n,t){var e,f;if(!(e=n)||isNaN(e.getTime()))return this.o.defaultViewDate;if(!t)return n;var r,u,i=new Date(n.valueOf()),o=i.getUTCDate(),s=i.getUTCMonth(),h=Math.abs(t);if(t=0<t?1:-1,1===h)u=-1===t?function(){return i.getUTCMonth()===s}:function(){return i.getUTCMonth()!==r},r=s+t,i.setUTCMonth(r),(r<0||11<r)&&(r=(r+12)%12);else{for(f=0;f<h;f++)i=this.moveMonth(i,t);r=i.getUTCMonth();i.setUTCDate(o);u=function(){return r!==i.getUTCMonth()}}for(;u();)i.setUTCDate(--o),i.setUTCMonth(r);return i},moveYear:function(n,t){return this.moveMonth(n,12*t)},moveAvailableDate:function(n,t,i){do{if(n=this[i](n,t),!this.dateWithinRange(n))return!1;i="moveDay"}while(this.dateIsDisabled(n));return n},weekOfDateIsDisabled:function(t){return-1!==n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||0<n.grep(this.o.datesDisabled,function(n){return i=n,(r=t).getUTCFullYear()===i.getUTCFullYear()&&r.getUTCMonth()===i.getUTCMonth()&&r.getUTCDate()===i.getUTCDate();var r,i}).length},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){if(this.picker.is(":visible")){var t,r,u=!1,i=this.focusDate||this.viewDate;switch(n.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();n.preventDefault();n.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===n.keyCode||38===n.keyCode?-1:1;0===this.viewMode?n.ctrlKey?(r=this.moveAvailableDate(i,t,"moveYear"))&&this._trigger("changeYear",this.viewDate):n.shiftKey?(r=this.moveAvailableDate(i,t,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===n.keyCode||39===n.keyCode?r=this.moveAvailableDate(i,t,"moveDay"):this.weekOfDateIsDisabled(i)||(r=this.moveAvailableDate(i,t,"moveWeek")):1===this.viewMode?(38!==n.keyCode&&40!==n.keyCode||(t*=4),r=this.moveAvailableDate(i,t,"moveMonth")):2===this.viewMode&&(38!==n.keyCode&&40!==n.keyCode||(t*=4),r=this.moveAvailableDate(i,t,"moveYear"));r&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),n.preventDefault());break;case 13:if(!this.o.forceParse)break;i=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(i),u=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(n.preventDefault(),n.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide()}u&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())}else 40!==n.keyCode&&27!==n.keyCode||(this.show(),n.stopPropagation())},showMode:function(n){n&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+n)));this.picker.children("div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).show();this.updateNavArrows()}};o=function(t,i){n(t).data("datepicker",this);this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;e.call(n(this.inputs),i).on("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n(t).data("datepicker")});this.updateDates()};o.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.getUTCDate()});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(t){var f;if(!this.updating&&(this.updating=!0,f=n(t.target).data("datepicker"),void 0!==f)){var i=f.getUTCDate(),e=n.inArray(t.target,this.inputs),r=e-1,u=e+1,o=this.inputs.length;if(-1!==e){if(n.each(this.pickers,function(n,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[r])for(;0<=r&&i<this.dates[r];)this.pickers[r--].setUTCDate(i);else if(i>this.dates[u])for(;u<o&&i>this.dates[u];)this.pickers[u++].setUTCDate(i);this.updateDates();delete this.updating}}},remove:function(){n.map(this.pickers,function(n){n.remove()});delete this.element.data().datepicker}};v=n.fn.datepicker;e=function(i){var u,e=Array.apply(null,arguments);if(e.shift(),this.each(function(){var c=n(this),t=c.data("datepicker"),l="object"==typeof i&&i;if(!t){var a=function(t,i){function o(n,t){return t.toLowerCase()}var u=n(t).data(),f={},e=new RegExp("^"+i.toLowerCase()+"([A-Z])");for(var r in i=new RegExp("^"+i.toLowerCase()),u)i.test(r)&&(f[r.replace(e,o)]=u[r]);return f}(this,"date"),v=function(t){var u={},i;if(r[t]||(t=t.split("-")[0],r[t]))return i=r[t],n.each(y,function(n,t){t in i&&(u[t]=i[t])}),u}(n.extend({},s,a,l).language),h=n.extend({},s,v,a,l);c.hasClass("input-daterange")||h.inputs?(n.extend(h,{inputs:h.inputs||c.find("input").toArray()}),t=new o(this,h)):t=new f(this,h);c.data("datepicker",t)}"string"==typeof i&&"function"==typeof t[i]&&(u=t[i].apply(t,e))}),u===t||u instanceof f||u instanceof o)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return u};n.fn.datepicker=e;s=n.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:n.noop,beforeShowMonth:n.noop,beforeShowYear:n.noop,beforeShowDecade:n.noop,beforeShowCentury:n.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}};y=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=f;r=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}};i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},getDaysInMonth:function(n,t){return[31,i.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(n){if("function"==typeof n.toValue&&"function"==typeof n.toDisplay)return n;var t=n.replace(this.validParts,"\0").split("\0"),i=n.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(e,o,s,c){function et(n,t){return!0===t&&(t=10),n<100&&(n+=2e3)>(new Date).getFullYear()+t&&(n-=100),n}function ot(){var n=this.slice(0,a[l].length),t=a[l].slice(0,n.length);return n.toLowerCase()===t.toLowerCase()}var p,st,nt,tt;if(!e)return t;if(e instanceof Date)return e;if("string"==typeof o&&(o=i.parseFormat(o)),o.toValue)return o.toValue(e,o,s);var v,b,l,k,rt=/([\-+]\d+)([dmwy])/,a=e.match(/([\-+]\d+)([dmwy])/g),ut={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},ft={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,l=0;l<a.length;l++)v=rt.exec(a[l]),b=parseInt(v[1]),k=ut[v[2]],e=f.prototype[k](e,b);return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}if(void 0!==ft[e]&&(a=(e=ft[e]).match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e))){for(e=new Date,l=0;l<a.length;l++)v=rt.exec(a[l]),b=parseInt(v[1]),k=ut[v[2]],e=f.prototype[k](e,b);return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}a=e&&e.match(this.nonpunctuation)||[];e=new Date;var w,d,g={},it=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(n,t){return n.setUTCFullYear(c?et(t,c):t)},yy:function(n,t){return n.setUTCFullYear(c?et(t,c):t)},m:function(n,t){if(isNaN(n))return n;for(t-=1;t<0;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!==t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}};if(y.M=y.MM=y.mm=y.m,y.dd=y.d,e=h(),p=o.parts.slice(),a.length!==p.length&&(p=n(p).filter(function(t,i){return-1!==n.inArray(i,it)}).toArray()),a.length===p.length){for(l=0,st=p.length;l<st;l++){if(w=parseInt(a[l],10),v=p[l],isNaN(w))switch(v){case"MM":d=n(r[s].months).filter(ot);w=n.inArray(d[0],r[s].months)+1;break;case"M":d=n(r[s].monthsShort).filter(ot);w=n.inArray(d[0],r[s].monthsShort)+1}g[v]=w}for(l=0;l<it.length;l++)(tt=it[l])in g&&!isNaN(g[tt])&&(nt=new Date(e),y[tt](nt,g[tt]),isNaN(nt)||(e=nt))}return e},formatDate:function(t,u,f){var e;if(!t)return"";if("string"==typeof u&&(u=i.parseFormat(u)),u.toDisplay)return u.toDisplay(t,u,f);e={d:t.getUTCDate(),D:r[f].daysShort[t.getUTCDay()],DD:r[f].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:r[f].monthsShort[t.getUTCMonth()],MM:r[f].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d;e.mm=(e.m<10?"0":"")+e.m;t=[];for(var s=n.extend([],u.separators),o=0,h=u.parts.length;o<=h;o++)s.length&&t.push(s.shift()),t.push(e[u.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"><\/th><\/tr><tr><th class="prev">&laquo;<\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next">&raquo;<\/th><\/tr><\/thead>',contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};i.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+i.headTemplate+"<tbody><\/tbody>"+i.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-decades"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-centuries"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=i;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=v,this};n.fn.datepicker.version="1.6.4";n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),e.call(i,"show"))});n(function(){e.call(n('[data-provide="datepicker-inline"]'))})});!function(n){n.fn.datepicker.dates.pt={days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",monthsTitle:"Meses",clear:"Limpar",format:"dd/mm/yyyy"}}(jQuery)